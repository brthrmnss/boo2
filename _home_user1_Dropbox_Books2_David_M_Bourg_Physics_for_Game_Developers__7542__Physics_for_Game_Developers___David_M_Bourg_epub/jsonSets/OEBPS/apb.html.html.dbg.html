<!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><html><head><title>Appendix&#xA0;B.&#xA0;Matrix Operations</title><link rel="stylesheet" type="text/css" href="core.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="up" href="index.html" title="Physics for Game Developers"><link rel="prev" href="apa.html" title="Appendix&#xA0;A.&#xA0;Vector Operations"><link rel="next" href="apc.html" title="Appendix&#xA0;C.&#xA0;Quaternion Operations"></head><body>
         
        <script>
        function ok(){ 
            window.gggs()
            return;
            //$('#musicPlayer').parent().remove();
            //speakTransportPanelDialogV2.closeEmoteDialog()
            //speakTransportPanelDialog.closeEmoteDialog()
            //
            debugger
            let url = 'http://127.0.0.1:8080/uploads/extracted/' +
             'Crazy Rich Asians  Kevin Kwanepub/' +
              'jsonSets/OEBPS/Kwan_9780385536981_epub_prl_r1.htm.html.sentences.json'
            speakTransportPanelDialogV2.sideLoadSentences2(null, null, null, url)
            
        }
        setTimeout(ok, 1500)
        </script>
        <div style="background:white">````````</div><section class="appendix" title="Appendix&#xA0;B.&#xA0;Matrix Operations" epub:type="appendix" id="matrix_operations"><div class="titlepage"><div><div><h2 class="title"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">1</span><span sentence-index="14440" class="highlight2">Appendix&#xA0;B.&#xA0;Matrix  Operations</span></span></h2></div></div></div><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">2</span><span sentence-index="14441" class="highlight3">This  appendix  implements  a  class  called  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">2</span><span sentence-index="14441" class="highlight4">Matrix3x3</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14441</span><span sentence-index="14441" class="highlight2">  that  encapsulates  all  of  the  operations    you  need  to  handle  3&#xD7;3  (nine-element)  matrices  when  writing  3D  rigid-body    simulations.</span></span></p><div class="sect1" title="Matrix3&#xD7;3 Class"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="matrix3t3_class"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">4</span><span sentence-index="14443" class="highlight3">Matrix3&#xD7;3  Class</span></span></h2></div></div></div><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">5</span><span sentence-index="14444" class="highlight4">The  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">5</span><span sentence-index="14444" class="highlight2">Matrix3x3</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">5</span><span sentence-index="14444" class="highlight3"> class  is  </span></span><a id="I_indexterm_id367275" class="indexterm"></a><a id="mab.1" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">7</span><span sentence-index="14446" class="highlight4">defined  with  nine  elements,  e</span></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">7</span><span sentence-index="14446" class="highlight2">ij</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">7</span><span sentence-index="14446" class="highlight3">,        where  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">7</span><span>i</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">7</span><span sentence-index="14446" class="highlight2"> represents  the  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">7</span><span sentence-index="14446" class="highlight4">i</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">7</span><span sentence-index="14446" class="highlight3">th  row        and  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">7</span><span>j</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">7</span><span sentence-index="14446" class="highlight2"> the  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">7</span><span sentence-index="14446" class="highlight4">j</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14446</span><span sentence-index="14446" class="highlight3">th  column. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">8</span><span sentence-index="14447" class="highlight2"> For        example,  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">8</span><span sentence-index="14447" class="highlight3">e</span></span></em></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">8</span><span sentence-index="14447" class="highlight4">21</span></span></sub><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14447</span><span sentence-index="14447" class="highlight4">  refers  to  the        element  on  the  second  row  in  the  first  column. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">9</span><span sentence-index="14448" class="highlight2"> Here&apos;s  how  all  of  the        elements  are  arranged:</span></span></a></p><div class="informalfigure"><a id="appendixbmatrix1"></a><div class="mediaobject"><a id="appendixbmatrix1"></a><a id="I_mediaobject_id367333"><img src="httpatomoreillycomsourceoreillyimages1599038.png" alt="image with no caption"></a></div></div><p><a id="I_mediaobject_id367333"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">14</span><span sentence-index="14453" class="highlight3">The  class  has  two  constructors,  one  of  which  initializes  the  matrix  elements  to  zero,  and            the  other  of  which  initializes  the  elements  to  those  passed  to  the  constructor:</span></span></a></p><a id="I_programlisting_id367356"><pre class="programlisting">class Matrix3x3 {
public:
     // elements eij: i -&gt; row, j -&gt; column
     float     e11, e12, e13, e21, e22, e23, e31, e32, e33;

     Matrix3x3(void);
     Matrix3x3(float r1c1, float r1c2, float r1c3,
               float r2c1, float r2c2, float r2c3,
               float r3c1, float r3c2, float r3c3 );

     float         det(void);
     Matrix3x3     Transpose(void);
     Matrix3x3     Inverse(void);

     Matrix3x3&amp; operator+=(Matrix3x3 m);
     Matrix3x3&amp; operator-=(Matrix3x3 m);
     Matrix3x3&amp; operator*=(float s);
     Matrix3x3&amp; operator/=(float s);
};

// Constructor
inline     Matrix3x3::Matrix3x3(void)
{
     e11 = 0;
     e12 = 0;
     e13 = 0;
     e21 = 0;
     e22 = 0;
     e23 = 0;
     e31 = 0;
     e32 = 0;
     e33 = 0;
}

// Constructor
inline     Matrix3x3::Matrix3x3(float r1c1, float r1c2, float r1c3,
                                float r2c1, float r2c2, float r2c3,
                                float r3c1, float r3c2, float r3c3 )
{
     e11 = r1c1;
     e12 = r1c2;
     e13 = r1c3;
     e21 = r2c1;
     e22 = r2c2;
     e23 = r2c3;
     e31 = r3c1;
     e32 = r3c2;
     e33 = r3c3;
}</pre></a><div class="sect2" title="Determinant"><a id="I_programlisting_id367356"><div class="titlepage"><div><div><h3 class="title" id="determinant"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">17</span><span sentence-index="14456" class="highlight4">Determinant</span></span></h3></div></div></div></a><p><a id="I_programlisting_id367356"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">19</span><span sentence-index="14458" class="highlight2">The  method,  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">19</span><span sentence-index="14458" class="highlight3">det</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">19</span><span sentence-index="14458" class="highlight4">,  returns  the            </span></span></a><a id="I_indexterm_id367388" class="indexterm"></a><a id="I_indexterm_id367396" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14460</span><span sentence-index="14460" class="highlight2">determinant  of  the  matrix. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">22</span><span sentence-index="14461" class="highlight3"> The  determinant  of  a  2&#xD7;2            matrix:</span></span></a></p><div class="informalfigure"><a id="appendixbmatrix2"></a><div class="mediaobject"><a id="appendixbmatrix2"></a><a id="I_mediaobject_id367415"><img src="httpatomoreillycomsourceoreillyimages1599039.png" alt="image with no caption"></a></div></div><p><a id="I_mediaobject_id367415"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">27</span><span sentence-index="14466" class="highlight2">is  as  follows:</span></span></a></p><table style="border: 0; " class="simplelist"><tbody><tr><td><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">27</span><span sentence-index="14466" class="highlight3">det  [m]  =  e</span></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">27</span><span sentence-index="14466" class="highlight4">11</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">27</span><span>               e</span></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">27</span><span sentence-index="14466" class="highlight4">22</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">27</span><span sentence-index="14466" class="highlight2"> &#x2212;  e</span></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">27</span><span sentence-index="14466" class="highlight3">21</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">27</span><span sentence-index="14466" class="highlight4">               e</span></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">27</span><span sentence-index="14466" class="highlight2">12</span></span></sub></td></tr></tbody></table><p><a id="I_mediaobject_id367415"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14468</span><span sentence-index="14468" class="highlight3">We  find  the  determinant  of  a  3&#xD7;3  matrix  by  first  expanding  the            matrix  by  minors,  and  then  resolving  the  determinants  of  the  2&#xD7;2  minors. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">30</span><span sentence-index="14469" class="highlight4">           Here&apos;s  how  you  expand  a  3&#xD7;3  matrix  by  minors:</span></span></a></p><div class="informalfigure"><a id="appendixbmatrix3"></a><div class="mediaobject"><a id="appendixbmatrix3"></a><a id="I_mediaobject_id367472"><img src="httpatomoreillycomsourceoreillyimages1599040.png" alt="image with no caption"></a></div></div><p><a id="I_mediaobject_id367472"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">35</span><span sentence-index="14474" class="highlight2">Here&apos;s  how  this  all  looks  in  code:</span></span></a></p><a id="I_programlisting_id367494"><pre class="programlisting">inline     float     Matrix3x3::det(void)
{
     return    e11*e22*e33 -
               e11*e32*e23 +
               e21*e32*e13 -
               e21*e12*e33 +
               e31*e12*e23 -
               e31*e22*e13;
}</pre></a></div><div class="sect2" title="Transpose"><div class="titlepage"><div><div><h3 class="title" id="transpose"><a id="I_programlisting_id367494"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">38</span><span sentence-index="14477" class="highlight3">Transpose</span></span></a></h3></div></div></div><p><a id="I_programlisting_id367494"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">40</span><span sentence-index="14479" class="highlight4">The  method  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">40</span><span sentence-index="14479" class="highlight2">Transpose</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">40</span><span sentence-index="14479" class="highlight3"> transposes            </span></span></a><a id="I_indexterm_id367520" class="indexterm"></a><a id="I_indexterm_id367526" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14481</span><span sentence-index="14481" class="highlight4">the  matrix  by  swapping  rows  with  columns&#x2014;that  is,  the            elements  in  the  first  row  become  the  elements  in  the  first  column  and  so            on  for  the  second  and  third  rows  and  columns. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span sentence-index="14482" class="highlight2 nonQuoteStr"> The  following  relations            are  true  for  transpose  operations:</span></span></a></p><table style="border: 0; " class="simplelist"><tbody><tr><td><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>(</span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>M</span></span></strong></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>t</span></span></sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>)</span></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>t</span></span></sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span sentence-index="14482" class="highlight4 nonQuoteStr">               =  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>M</span></span></strong></span></td></tr><tr><td><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span sentence-index="14482" class="highlight2 nonQuoteStr">(s  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>M</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>)</span></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>t</span></span></sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span sentence-index="14482" class="highlight3 nonQuoteStr"> =  s  (</span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>M</span></span></strong></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>t</span></span></sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>)</span></span></td></tr><tr><td><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>(</span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span sentence-index="14482" class="highlight4 nonQuoteStr">M                N</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>)</span></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>t</span></span></sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span> =  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>N</span></span></strong></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>t</span></span></sup> <span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>M</span></span></strong></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>t</span></span></sup></td></tr><tr><td><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span sentence-index="14482" class="highlight3 nonQuoteStr">(</span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>M</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span> +  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>N</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span sentence-index="14482" class="highlight3 nonQuoteStr">)</span></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>t</span></span></sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span sentence-index="14482" class="highlight2 nonQuoteStr"> =  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>M</span></span></strong></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>t</span></span></sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span sentence-index="14482" class="highlight4 nonQuoteStr"> +  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span sentence-index="14482" class="highlight3 nonQuoteStr">N</span></span></strong></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>t</span></span></sup></td></tr><tr><td><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span sentence-index="14482" class="highlight2 nonQuoteStr">det[</span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span>M</span></span></strong></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span sentence-index="14482" class="highlight2 nonQuoteStr">t</span></span></sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span sentence-index="14482" class="highlight3 nonQuoteStr">]  =                det[</span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span sentence-index="14482" class="highlight4 nonQuoteStr">M</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">43</span><span sentence-index="14482" class="highlight4 nonQuoteStr">]</span></span></td></tr></tbody></table><p><a id="I_indexterm_id367526" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">45</span><span sentence-index="14484" class="highlight2">Here  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">45</span><span sentence-index="14484" class="highlight3">M</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">45</span><span sentence-index="14484" class="highlight4"> and  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">45</span><span sentence-index="14484" class="highlight2">N</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">45</span><span sentence-index="14484" class="highlight3"> are  matrices,  </span></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">45</span><span sentence-index="14484" class="highlight4">t</span></span></sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">45</span><span sentence-index="14484" class="highlight2"> is            the  transpose  operator,  and  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">45</span><span sentence-index="14484" class="highlight3">s</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14484</span><span sentence-index="14484" class="highlight4">  is  a  scalar.</span></span></a></p><p><a id="I_indexterm_id367526" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">48</span><span sentence-index="14487" class="highlight2">Here&apos;s  the  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">48</span><span sentence-index="14487" class="highlight3">Transpose</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">48</span><span sentence-index="14487" class="highlight4"> method  for            our  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">48</span><span sentence-index="14487" class="highlight2">Matrix3x3</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">48</span><span sentence-index="14487" class="highlight3"> class:</span></span></a></p><a id="I_programlisting_id367710"><pre class="programlisting">inline     Matrix3x3     Matrix3x3::Transpose(void)
{
     return Matrix3x3(e11,e21,e31,e12,e22,e32,e13,e23,e33);
}</pre></a></div><div class="sect2" title="Inverse"><div class="titlepage"><div><div><h3 class="title" id="inverse"><a id="I_programlisting_id367710"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">51</span><span sentence-index="14490" class="highlight4">Inverse</span></span></a></h3></div></div></div><p><a id="I_programlisting_id367710"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">53</span><span sentence-index="14492" class="highlight2">The  method  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">53</span><span sentence-index="14492" class="highlight3">Inverse</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">53</span><span sentence-index="14492" class="highlight4"> computes            </span></span></a><a id="I_indexterm_id367737" class="indexterm"></a><a id="I_indexterm_id367744" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">55</span><span sentence-index="14494" class="highlight2 nonQuoteStr">the  inverse  matrix  such  that  the  following  relation  is            satisfied:</span></span></a></p><p><a id="I_indexterm_id367744" class="indexterm"><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">57</span><span sentence-index="14496" class="highlight3">M            M</span></span></strong></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">57</span><span>&#x2212;1</span></span></sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">57</span><span> =  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">57</span><span>M</span></span></strong></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">57</span><span sentence-index="14496" class="highlight4">&#x2212;1</span></span></sup> <span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">57</span><span sentence-index="14496" class="highlight3">M</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">57</span><span sentence-index="14496" class="highlight2"> =  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">57</span><span sentence-index="14496" class="highlight4">I</span></span></strong></span></a></p><p><a id="I_indexterm_id367744" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">59</span><span sentence-index="14498" class="highlight2">Here  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">59</span><span>M</span></span></strong></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">59</span><span sentence-index="14498" class="highlight4">&#x2212;1</span></span></sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">59</span><span sentence-index="14498" class="highlight2"> is  the  inverse            of  matrix  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">59</span><span sentence-index="14498" class="highlight3">M</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">59</span><span sentence-index="14498" class="highlight3">,  and  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">59</span><span sentence-index="14498" class="highlight4">I</span></span></strong></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14498</span><span sentence-index="14498" class="highlight2">  is  the  identity  matrix. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">60</span><span sentence-index="14499" class="highlight3"> For  a  3&#xD7;3  matrix,  we            find  the  inverse  as  follows:</span></span></a></p><div class="informalfigure"><a id="appendixbmatrix4"></a><div class="mediaobject"><a id="appendixbmatrix4"></a><a id="I_mediaobject_id367817"><img src="httpatomoreillycomsourceoreillyimages1599041.png" alt="image with no caption"></a></div></div><p><a id="I_mediaobject_id367817"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">65</span><span sentence-index="14504" class="highlight4">Here  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">65</span><span sentence-index="14504" class="highlight2">E</span></span></em></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">65</span><span>ij</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">65</span><span sentence-index="14504" class="highlight4"> represents            the  cofactor  of  element  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">65</span><span sentence-index="14504" class="highlight2">e</span></span></em></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">65</span><span sentence-index="14504" class="highlight3">ij</span></span></sub><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14504</span><span sentence-index="14504" class="highlight3"> ,            which  we  can  find  by  taking  the  determinant  of  the  minor  of  each            element. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14505</span><span sentence-index="14505" class="highlight4">  Only  square  matrices,  those  with  the  same  number  of  rows  as            columns,  can  be  inverted. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14506</span><span sentence-index="14506" class="highlight2">  Note,  however,  that  not  all  square  matrices            can  be  inverted. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14507</span><span sentence-index="14507" class="highlight3">  A  matrix  can  be  inverted  only  if  its  determinant  is            nonzero.</span></span></a></p><p><a id="I_mediaobject_id367817"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">71</span><span sentence-index="14510" class="highlight4">The  follow  relation  applies  to  matrix  inversion:</span></span></a></p><table style="border: 0; " class="simplelist"><tbody><tr><td><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">71</span><span sentence-index="14510" class="highlight2">(</span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">71</span><span sentence-index="14510" class="highlight3">M                N</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">71</span><span sentence-index="14510" class="highlight4">)</span></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">71</span><span>&#x2212;1</span></span></sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">71</span><span sentence-index="14510" class="highlight3"> =  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">71</span><span sentence-index="14510" class="highlight4">N</span></span></strong></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">71</span><span>&#x2212;1</span></span></sup> <span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">71</span><span sentence-index="14510" class="highlight2">M</span></span></strong></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">71</span><span sentence-index="14510" class="highlight2">&#x2212;1</span></span></sup></td></tr></tbody></table><p><a id="I_mediaobject_id367817"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">73</span><span sentence-index="14512" class="highlight3">Here&apos;s  how  matrix  inversion  looks  in  code  for  our  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">73</span><span sentence-index="14512" class="highlight4">Matrix3x3</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">73</span><span sentence-index="14512" class="highlight2"> class:</span></span></a></p><a id="I_programlisting_id367903"><pre class="programlisting">inline     Matrix3x3     Matrix3x3::Inverse(void)
{
     float     d = e11*e22*e33 -
                   e11*e32*e23 +
                   e21*e32*e13 -
                   e21*e12*e33 +
                   e31*e12*e23 -
                   e31*e22*e13;

     if (d == 0) d = 1;

     return     Matrix3x3(     (e22*e33-e23*e32)/d,
                              -(e12*e33-e13*e32)/d,
                              (e12*e23-e13*e22)/d,
                              -(e21*e33-e23*e31)/d,
                              (e11*e33-e13*e31)/d,
                              -(e11*e23-e13*e21)/d,
                              (e21*e32-e22*e31)/d,
                              -(e11*e32-e12*e31)/d,
                              (e11*e22-e12*e21)/d );
}</pre></a></div><div class="sect2" title="Matrix Addition: The += Operator"><div class="titlepage"><div><div><h3 class="title" id="matrix_addition_colon_the_plus_equals_op"><a id="I_programlisting_id367903"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">76</span><span sentence-index="14515" class="highlight3">Matrix  Addition:  The  +=  Operator</span></span></a></h3></div></div></div><p><a id="I_programlisting_id367903"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">78</span><span sentence-index="14517" class="highlight4">This  operator  </span></span></a><a id="I_indexterm_id367927" class="indexterm"></a><a id="I_indexterm_id367933" class="indexterm"></a><a id="I_indexterm_id367943" class="indexterm"></a><a id="I_indexterm_id367953" class="indexterm"></a><a id="I_indexterm_id367963" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14522</span><span sentence-index="14522" class="highlight2">simply  adds  the  passed  matrix  to  the  current  one  on  an  element-by-element  basis. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">84</span><span sentence-index="14523" class="highlight3">               For  two  matrices  to  be  added,  they  must  be  of  the  same  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">84</span><span sentence-index="14523" class="highlight4">order</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">84</span><span sentence-index="14523" class="highlight2">&#x2014;that  is,                they  must  have  the  same  number  of  rows  and  columns:</span></span></a></p><a id="I_programlisting_id367979"><pre class="programlisting">inline     Matrix3x3&amp; Matrix3x3::operator+=(Matrix3x3 m)
{
     e11 += m.e11;
     e12 += m.e12;
     e13 += m.e13;
     e21 += m.e21;
     e22 += m.e22;
     e23 += m.e23;
     e31 += m.e31;
     e32 += m.e32;
     e33 += m.e33;
     return *this;
}</pre><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight3">Matrix  addition  (and  subtraction)  is  commutative,  associative,  and            distributive;  thus:</span></span></p><table style="border: 0; " class="simplelist"><tbody><tr><td><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span>M</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span> +  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span>N</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight4"> =  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span>N</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight2"> +                </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span>M</span></span></strong></span></td></tr><tr><td><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span>M</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight3"> +  (</span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span>N</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span> +  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span>P</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight2">)  =                (</span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span>M</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span> +  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span>N</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight3">)  +  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span>P</span></span></strong></span></td></tr><tr><td><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span>M</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight4"> (</span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span>N</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span> +  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span>P</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight2">)  =                </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight3">M  N</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span> +  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight4">M                P</span></span></strong></span></td></tr><tr><td><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight2">(</span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight3">N</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span> +  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight4">P</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight3">)  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight4">M</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight4"> =                </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight2">N  M</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight2"> +  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">86</span><span sentence-index="14525" class="highlight3">P                M</span></span></strong></span></td></tr></tbody></table></a></div><div class="sect2" title="Matrix Subtraction: The &#x2212;= Operator"><div class="titlepage"><div><div><h3 class="title" id="matrix_subtraction_colon_the_m_equals_op"><a id="I_programlisting_id367979"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">88</span><span sentence-index="14527" class="highlight4">Matrix  Subtraction:  The  &#x2212;=  Operator</span></span></a></h3></div></div></div><p><a id="I_programlisting_id367979"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">90</span><span sentence-index="14529" class="highlight2">This  operator  simply  subtracts  the  </span></span></a><a id="I_indexterm_id368136" class="indexterm"></a><a id="I_indexterm_id368143" class="indexterm"></a><a id="I_indexterm_id368152" class="indexterm"></a><a id="I_indexterm_id368162" class="indexterm"></a><a id="I_indexterm_id368172" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14534</span><span sentence-index="14534" class="highlight3">passed  matrix  from  the  current  one  on  an  element-by-element  basis. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">96</span><span sentence-index="14535" class="highlight4"> For  two                matrices  to  be  subtracted,  they  must  be  of  the  same  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">96</span><span sentence-index="14535" class="highlight2">order</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">96</span><span sentence-index="14535" class="highlight3">&#x2014;that  is,  they                must  have  the  same  number  of  rows  and  columns:</span></span></a></p><a id="I_programlisting_id368189"><pre class="programlisting">inline     Matrix3x3&amp; Matrix3x3::operator-=(Matrix3x3 m)
{
     e11 -= m.e11;
     e12 -= m.e12;
     e13 -= m.e13;
     e21 -= m.e21;
     e22 -= m.e22;
     e23 -= m.e23;
     e31 -= m.e31;
     e32 -= m.e32;
     e33 -= m.e33;
     return *this;
}</pre></a></div><div class="sect2" title="Scalar Multiplication: The *= Operator"><div class="titlepage"><div><div><h3 class="title" id="scalar_multiplication_colon_the-id2"><a id="I_programlisting_id368189"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">99</span><span sentence-index="14538" class="highlight4">Scalar  Multiplication:  The  *=  Operator</span></span></a></h3></div></div></div><p><a id="I_programlisting_id368189"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">101</span><span sentence-index="14540" class="highlight2">This  operator  simply  </span></span></a><a id="I_indexterm_id368212" class="indexterm"></a><a id="I_indexterm_id368222" class="indexterm"></a><a id="I_indexterm_id368232" class="indexterm"></a><a id="I_indexterm_id368242" class="indexterm"></a><a id="I_indexterm_id368252" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">106</span><span sentence-index="14545" class="highlight3">multiplies  each  element  by  the  scalar  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">106</span><span sentence-index="14545" class="highlight4">s</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">106</span><span sentence-index="14545" class="highlight2">:</span></span></a></p><a id="I_programlisting_id368268"><pre class="programlisting">inline     Matrix3x3&amp; Matrix3x3::operator*=(float s)
{
     e11 *= s;
     e12 *= s;
     e13 *= s;
     e21 *= s;
     e22 *= s;
     e23 *= s;
     e31 *= s;
     e32 *= s;
     e33 *= s;
     return *this;
}</pre><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">108</span><span sentence-index="14547" class="highlight3">The  following  relation  applies  for  scalar  multiplication  (and            division):</span></span></p><table style="border: 0; " class="simplelist"><tbody><tr><td><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">108</span><span sentence-index="14547" class="highlight4">s(</span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">108</span><span sentence-index="14547" class="highlight2">M  N</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">108</span><span sentence-index="14547" class="highlight3">)  =  (s</span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">108</span><span>M</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">108</span><span sentence-index="14547" class="highlight2">)  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">108</span><span>N</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">108</span><span sentence-index="14547" class="highlight4"> =                </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">108</span><span sentence-index="14547" class="highlight4">M</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">108</span><span sentence-index="14547" class="highlight2"> (s  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">108</span><span sentence-index="14547" class="highlight3">N</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">108</span><span sentence-index="14547" class="highlight3">)</span></span></td></tr></tbody></table></a></div><div class="sect2" title="Scalar Division: The /= Operator"><div class="titlepage"><div><div><h3 class="title" id="scalar_division_colon_the_solidus_eq"><a id="I_programlisting_id368268"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">110</span><span sentence-index="14549" class="highlight4">Scalar  Division:  The  /=  Operator</span></span></a></h3></div></div></div><p><a id="I_programlisting_id368268"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">112</span><span sentence-index="14551" class="highlight2">This  operator  </span></span></a><a id="I_indexterm_id368332" class="indexterm"></a><a id="I_indexterm_id368342" class="indexterm"></a><a id="I_indexterm_id368352" class="indexterm"></a><a id="I_indexterm_id368361" class="indexterm"></a><a id="I_indexterm_id368371" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">117</span><span sentence-index="14556" class="highlight3">simply  divides  each  element  by  the  </span></span></a><a id="I_indexterm_id368383" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">118</span><span sentence-index="14557" class="highlight4">scalar  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">118</span><span sentence-index="14557" class="highlight2">s</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">118</span><span sentence-index="14557" class="highlight3">:</span></span></a></p><a id="I_programlisting_id368397"><pre class="programlisting">inline     Matrix3x3&amp; Matrix3x3::operator/=(float s)
{
     e11 /= s;
     e12 /= s;
     e13 /= s;
     e21 /= s;
     e22 /= s;
     e23 /= s;
     e31 /= s;
     e32 /= s;
     e33 /= s;
     return *this;
}</pre></a></div></div><div class="sect1" title="Matrix Functions and Operators"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="matrix_functions_and_operators"><a id="I_programlisting_id368397"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">122</span><span sentence-index="14561" class="highlight4">Matrix  Functions  and  Operators</span></span></a></h2></div></div></div><p><a id="I_programlisting_id368397"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">124</span><span sentence-index="14563" class="highlight2">The  functions  and  </span></span></a><a id="mab.2" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14564</span><span sentence-index="14564" class="highlight3">overloaded  operators  that  follow  are  useful  when  you  are        performing  operations  with  two  matrices,  or  with  a  matrix  and  a  scalar,  or        a  matrix  and  a  vector. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">126</span><span sentence-index="14565" class="highlight4"> Here,  the  matrices  are  assumed  to  be  of  the  type        </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">126</span><span sentence-index="14565" class="highlight2">Matrix3x3</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">126</span><span sentence-index="14565" class="highlight3">,  and  vectors  of  the  type        </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">126</span><span sentence-index="14565" class="highlight4">Vector</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">126</span><span sentence-index="14565" class="highlight2">,  as  discussed  in  </span></span></a><a class="xref" href="apa.html" title="Appendix&#xA0;A.&#xA0;Vector Operations"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">127</span><span sentence-index="14566" class="highlight3">Appendix&#xA0;A</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14567</span><span sentence-index="14567" class="highlight4"> .</span></span></p><div class="sect2" title="Matrix Addition: The + Operator"><div class="titlepage"><div><div><h3 class="title" id="matrix_addition_colon_the_plus_operator"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">130</span><span sentence-index="14569" class="highlight2">Matrix  Addition:  The  +  Operator</span></span></h3></div></div></div><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">131</span><span sentence-index="14570" class="highlight3">This  operator  </span></span><a id="I_indexterm_id368463" class="indexterm"></a><a id="I_indexterm_id368474" class="indexterm"></a><a id="I_indexterm_id368484" class="indexterm"></a><a id="I_indexterm_id368490" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">135</span><span sentence-index="14574" class="highlight4">adds  the  two  matrices  together  on  an  element-by-element  basis:</span></span></a></p><a id="I_programlisting_id368502"><pre class="programlisting">inline     Matrix3x3 operator+(Matrix3x3 m1, Matrix3x3 m2)
{
     return     Matrix3x3(     m1.e11+m2.e11,
                              m1.e12+m2.e12,
                              m1.e13+m2.e13,
                              m1.e21+m2.e21,
                              m1.e22+m2.e22,
                              m1.e23+m2.e23,
                              m1.e31+m2.e31,
                              m1.e32+m2.e32,
                              m1.e33+m2.e33);
}</pre></a></div><div class="sect2" title="Matrix Subtraction: The &#x2212; Operator"><div class="titlepage"><div><div><h3 class="title" id="matrix_subtraction_colon_the_m_operator"><a id="I_programlisting_id368502"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">138</span><span sentence-index="14577" class="highlight2">Matrix  Subtraction:  The  &#x2212;  Operator</span></span></a></h3></div></div></div><p><a id="I_programlisting_id368502"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">140</span><span sentence-index="14579" class="highlight3">This  operator  </span></span></a><a id="I_indexterm_id368525" class="indexterm"></a><a id="I_indexterm_id368535" class="indexterm"></a><a id="I_indexterm_id368545" class="indexterm"></a><a id="I_indexterm_id368552" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">144</span><span sentence-index="14583" class="highlight4">subtracts  matrix  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">144</span><span sentence-index="14583" class="highlight2">m2</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">144</span><span sentence-index="14583" class="highlight3"> from  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">144</span><span sentence-index="14583" class="highlight4">m1</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">144</span><span sentence-index="14583" class="highlight2"> on  an  element-by-element  basis:</span></span></a></p><a id="I_programlisting_id368576"><pre class="programlisting">inline     Matrix3x3 operator-(Matrix3x3 m1, Matrix3x3 m2)
{
     return     Matrix3x3(     m1.e11-m2.e11,
                              m1.e12-m2.e12,
                              m1.e13-m2.e13,
                              m1.e21-m2.e21,
                              m1.e22-m2.e22,
                              m1.e23-m2.e23,
                              m1.e31-m2.e31,
                              m1.e32-m2.e32,
                              m1.e33-m2.e33);
}</pre></a></div><div class="sect2" title="Scalar Divide: The / Operator"><div class="titlepage"><div><div><h3 class="title" id="scalar_divide_colon_the_solidus_operator"><a id="I_programlisting_id368576"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">147</span><span sentence-index="14586" class="highlight3">Scalar  Divide:  The  /  Operator</span></span></a></h3></div></div></div><p><a id="I_programlisting_id368576"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">149</span><span sentence-index="14588" class="highlight4">This  operator  divides  </span></span></a><a id="I_indexterm_id368598" class="indexterm"></a><a id="I_indexterm_id368608" class="indexterm"></a><a id="I_indexterm_id368618" class="indexterm"></a><a id="I_indexterm_id368628" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">153</span><span sentence-index="14592" class="highlight2">every  element  in  the  matrix  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">153</span><span sentence-index="14592" class="highlight3">m</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">153</span><span sentence-index="14592" class="highlight4"> by  the  scalar                    </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">153</span><span sentence-index="14592" class="highlight2">s</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">153</span><span sentence-index="14592" class="highlight3">:</span></span></a></p><a id="I_programlisting_id368650"><pre class="programlisting">inline     Matrix3x3 operator/(Matrix3x3 m, float s)
{
     return     Matrix3x3(    m.e11/s,
                              m.e12/s,
                              m.e13/s,
                              m.e21/s,
                              m.e22/s,
                              m.e23/s,
                              m.e31/s,
                              m.e32/s,
                              m.e33/s);
}</pre></a></div><div class="sect2" title="Matrix Multiplication: The * Operator"><div class="titlepage"><div><div><h3 class="title" id="matrix_multiplication_colon_the_asterisk"><a id="I_programlisting_id368650"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">156</span><span sentence-index="14595" class="highlight4">Matrix  Multiplication:  The  *  Operator</span></span></a></h3></div></div></div><p><a id="I_programlisting_id368650"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">158</span><span sentence-index="14597" class="highlight2">This  operator,  when  applied  </span></span></a><a id="I_indexterm_id368676" class="indexterm"></a><a id="I_indexterm_id368686" class="indexterm"></a><a id="I_indexterm_id368696" class="indexterm"></a><a id="I_indexterm_id368702" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14601</span><span sentence-index="14601" class="highlight3">between  two  matrices,  performs  a  matrix  multiplication. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">163</span><span sentence-index="14602" class="highlight4"> In  matrix                multiplication,  each  element,  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">163</span><span sentence-index="14602" class="highlight2">e</span></span></em></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">163</span><span sentence-index="14602" class="highlight3">ij</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">163</span><span sentence-index="14602" class="highlight4">,  is  determined                by  the  product  of  the  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">163</span><span sentence-index="14602" class="highlight2">i</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">163</span><span sentence-index="14602" class="highlight3">th  row  in  the  first  matrix  and  the                    </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">163</span><span sentence-index="14602" class="highlight4">j</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">163</span><span sentence-index="14602" class="highlight2">th  column  of  the  second  matrix:</span></span></a></p><a id="I_programlisting_id368728"><pre class="programlisting">inline     Matrix3x3 operator*(Matrix3x3 m1, Matrix3x3 m2)
{
     return Matrix3x3(m1.e11*m2.e11 + m1.e12*m2.e21 + m1.e13*m2.e31,
                      m1.e11*m2.e12 + m1.e12*m2.e22 + m1.e13*m2.e32,
                      m1.e11*m2.e13 + m1.e12*m2.e23 + m1.e13*m2.e33,
                      m1.e21*m2.e11 + m1.e22*m2.e21 + m1.e23*m2.e31,
                      m1.e21*m2.e12 + m1.e22*m2.e22 + m1.e23*m2.e32,
                      m1.e21*m2.e13 + m1.e22*m2.e23 + m1.e23*m2.e33,
                      m1.e31*m2.e11 + m1.e32*m2.e21 + m1.e33*m2.e31,
                      m1.e31*m2.e12 + m1.e32*m2.e22 + m1.e33*m2.e32,
                      m1.e31*m2.e13 + m1.e32*m2.e23 + m1.e33*m2.e33 );
}</pre><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14604</span><span sentence-index="14604" class="highlight3">Two  matrices  can  be  multiplied  only  if  one  has  the  same  number  of            columns  as  the  other  has  rows. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">166</span><span sentence-index="14605" class="highlight4"> Matrix  multiplication  is  not  commutative,            but  it  is  associative;  thus:</span></span></p><table style="border: 0; " class="simplelist"><tbody><tr><td><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">166</span><span sentence-index="14605" class="highlight2">M  N</span></span></strong></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">166</span><span sentence-index="14605" class="highlight3"> &#x2260;  </span></span><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">166</span><span sentence-index="14605" class="highlight4">N  M</span></span></strong></span></td></tr><tr><td><span class="strong"><strong><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">166</span><span sentence-index="14605" class="highlight2">(M  N)  P  =  M  (N  P)</span></span></strong></span></td></tr></tbody></table></a></div><div class="sect2" title="Scalar Multiplication: The * Operator"><div class="titlepage"><div><div><h3 class="title" id="scalar_multiplication_colon_the-id3"><a id="I_programlisting_id368728"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">168</span><span sentence-index="14607" class="highlight3">Scalar  Multiplication:  The  *  Operator</span></span></a></h3></div></div></div><p><a id="I_programlisting_id368728"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">170</span><span sentence-index="14609" class="highlight4">This  operator,  when  </span></span></a><a id="I_indexterm_id368781" class="indexterm"></a><a id="I_indexterm_id368791" class="indexterm"></a><a id="I_indexterm_id368801" class="indexterm"></a><a id="I_indexterm_id368811" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">174</span><span sentence-index="14613" class="highlight2">applied  between  a  matrix  and  a  scalar,  multiplies  each  element  in  the  matrix                    </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">174</span><span sentence-index="14613" class="highlight3">m</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">174</span><span sentence-index="14613" class="highlight4"> by  the  scalar  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">174</span><span sentence-index="14613" class="highlight2">s</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14613</span><span sentence-index="14613" class="highlight3"> . </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">175</span><span sentence-index="14614" class="highlight4"> Two  forms  are                given  here,  depending  on  the  order  in  which  the  matrix  and  scalar  are  encountered:</span></span></a></p><a id="I_programlisting_id368834"><pre class="programlisting">inline     Matrix3x3 operator*(Matrix3x3 m, float s)
{
     return     Matrix3x3(     m.e11*s,
                              m.e12*s,
                              m.e13*s,
                              m.e21*s,
                              m.e22*s,
                              m.e23*s,
                              m.e31*s,
                              m.e32*s,
                              m.e33*s);
}

inline     Matrix3x3 operator*(float s, Matrix3x3 m)
{
     return     Matrix3x3(     m.e11*s,
                              m.e12*s,
                              m.e13*s,
                              m.e21*s,
                              m.e22*s,
                              m.e23*s,
                              m.e31*s,
                              m.e32*s,
                              m.e33*s);
}</pre></a></div><div class="sect2" title="Vector Multiplication: The * Operator"><div class="titlepage"><div><div><h3 class="title" id="vector_multiplication_colon_the_aste-id1"><a id="I_programlisting_id368834"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">178</span><span sentence-index="14617" class="highlight2">Vector  Multiplication:  The  *  Operator</span></span></a></h3></div></div></div><p><a id="I_programlisting_id368834"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">180</span><span sentence-index="14619" class="highlight3">This  operator,  </span></span></a><a id="I_indexterm_id368862" class="indexterm"></a><a id="I_indexterm_id368872" class="indexterm"></a><a id="I_indexterm_id368881" class="indexterm"></a><a id="I_indexterm_id368891" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">184</span><span sentence-index="14623" class="highlight4">when  applied  between  a  vector  and  a  matrix,  performs  a  vector  multiplication                where  the  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">184</span><span>i</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">184</span><span sentence-index="14623" class="highlight3">th  column  in  the  matrix  is  multiplied  by  the                    </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">184</span><span sentence-index="14623" class="highlight2">i</span></span></em></span><span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14623</span><span sentence-index="14623" class="highlight4">th  component  in  the  vector. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">185</span><span sentence-index="14624" class="highlight2"> Two  forms  are  given  here,  depending  on                the  order  in  which  the  matrix  and  vector  are  </span></span></a><a id="I_indexterm_id368911" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">186</span><span sentence-index="14625" class="highlight3">encountered:</span></span></a></p><a id="I_programlisting_id368922"><pre class="programlisting">inline     Vector operator*(Matrix3x3 m, Vector u)
{
     return Vector(     m.e11*u.x + m.e12*u.y + m.e13*u.z,
                         m.e21*u.x + m.e22*u.y + m.e23*u.z,
                         m.e31*u.x + m.e32*u.y + m.e33*u.z);
}

inline     Vector operator*(Vector u, Matrix3x3 m)
{
     return Vector(     u.x*m.e11 + u.y*m.e21 + u.z*m.e31,
                         u.x*m.e12 + u.y*m.e22 + u.z*m.e32,
                         u.x*m.e13 + u.y*m.e23 + u.z*m.e33);
}</pre></a></div></div></section><a id="I_programlisting_id368922">
</a></body></html>