<!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><html><head><title>Chapter&#xA0;18.&#xA0;Guns and Explosions</title><link rel="stylesheet" type="text/css" href="core.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="up" href="pt03.html" title="Part&#xA0;III.&#xA0;Physical Modeling"><link rel="prev" href="ch17.html" title="Chapter&#xA0;17.&#xA0;Cars and Hovercraft"><link rel="next" href="ch19.html" title="Chapter&#xA0;19.&#xA0;Sports"></head><body>
         
        <script>
        function ok(){ 
            window.gggs()
            return;
            //$('#musicPlayer').parent().remove();
            //speakTransportPanelDialogV2.closeEmoteDialog()
            //speakTransportPanelDialog.closeEmoteDialog()
            //
            debugger
            let url = 'http://127.0.0.1:8080/uploads/extracted/' +
             'Crazy Rich Asians  Kevin Kwanepub/' +
              'jsonSets/OEBPS/Kwan_9780385536981_epub_prl_r1.htm.html.sentences.json'
            speakTransportPanelDialogV2.sideLoadSentences2(null, null, null, url)
            
        }
        setTimeout(ok, 1500)
        </script>
        <div style="background:white">````````</div><section class="chapter" title="Chapter&#xA0;18.&#xA0;Guns and Explosions" epub:type="chapter" id="guns_and_explosions"><div class="titlepage"><div><div><h2 class="title"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">1</span><span sentence-index="9852" class="">Chapter&#xA0;18.&#xA0;Guns  and  Explosions</span></span></h2></div></div></div><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">2</span><span sentence-index="9853" class="nonQuoteStr">One  of  the  most  widely  successful  video  </span></span><a id="I_indexterm4_id345932" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9854</span><span sentence-index="9854" class="">game  genres  is  the  venerable  first-person  shooter. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">4</span><span sentence-index="9855" class=""> Ever  since  the  breakthrough  games        of  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">4</span><span sentence-index="9855" class="">Wolfenstein  3D</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">4</span><span sentence-index="9855" class=""> and  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">4</span><span sentence-index="9855" class="">Doom</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9855</span><span sentence-index="9855" class=""> ,  the  first-person  shooter        has  received  the  lion&apos;s  share  of  research  and  development  budgets. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9856</span><span sentence-index="9856" class="">  It  is  amazing  that  the        physics  of  aiming  a  gun  and  of  a  bullet  traveling  through  the  air  are  rarely  modeled  accurately. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9857</span><span sentence-index="9857" class="">        In  general,  game  designers  treat  guns  like  laser  beams  so  that  wherever  you  point  them,  the        bullet  goes  in  an  infinitely  straight  line. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9858</span><span sentence-index="9858" class="">  In  this  chapter  we&apos;ll  discuss  how  to  more  accurately        model  both  aiming  and  the  trajectory  of  bullets,  which  is  known  as  ballistics.</span></span></a></p><div class="sect1" title="Projectile Motion"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="projectile_motion"><a id="I_indexterm4_id345932" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">10</span><span sentence-index="9861" class="">Projectile  Motion</span></span></a></h2></div></div></div><p><a id="I_indexterm4_id345932" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">12</span><span sentence-index="9863" class="">There  are  actually  </span></span></a><a id="gu18.1" class="indexterm"></a><a id="I_indexterm4_id345987" class="indexterm"></a><a id="I_indexterm4_id345997" class="indexterm"></a><a id="pr18.1" class="indexterm"></a><a id="mo18.1" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9868</span><span sentence-index="9868" class="">four  subtopics  of  ballistics. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">18</span><span sentence-index="9869" class=""> </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">18</span><span sentence-index="9869" class="">Internal  ballistics</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">18</span><span sentence-index="9869" class=""> is  </span></span></a><a id="I_indexterm4_id346040" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">19</span><span sentence-index="9870" class="">the  study  of  what  happens  to  the  bullet  inside  the  barrel  of  the  </span></span></a><a id="I_indexterm4_id346047" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">21</span><span sentence-index="9872" class="">gun;  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">21</span><span sentence-index="9872" class="">transitional  ballistics</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9872</span><span sentence-index="9872" class="">  is  the  study  of  what  happens  as            the  bullet  exits  the  barrel. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">22</span><span sentence-index="9873" class=""> Once  the  bullet  has  fully  exited  the  barrel,  it  is  in  the  realm  </span></span></a><a id="I_indexterm4_id346060" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">23</span><span sentence-index="9874" class="">of  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">23</span><span sentence-index="9874" class="">external  ballistics</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9875</span><span sentence-index="9875" class=""> . </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">25</span><span sentence-index="9876" class=""> At  this  point  the  only  acceleration            is  that  of  gravity,  and  the  same  forces  discussed  in  </span></span></a><a class="xref" href="ch06.html" title="Chapter&#xA0;6.&#xA0;Projectiles"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">26</span><span sentence-index="9877" class="">Chapter&#xA0;6</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9878</span><span sentence-index="9878" class="">  take  over. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">28</span><span sentence-index="9879" class="">           The  last  topic  </span></span><a id="I_indexterm4_id346077" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">29</span><span sentence-index="9880" class="">is  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">29</span><span sentence-index="9880" class="">terminal  ballistics</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9881</span><span sentence-index="9881" class=""> ,  which  is  the  study  of  what  happens            when  the  bullet  hits  its  target. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9882</span><span sentence-index="9882" class="">  The  last  two  topics  are  the  ones  we&apos;ll  discuss  here. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9883</span><span sentence-index="9883" class="">  The            other  phases  are  more  important  to  firearm  manufacturers  and  not  so  much  to  the  shooter. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">33</span><span sentence-index="9884" class=""> If            you  don&apos;t  recall  the  material  in  </span></span></a><a class="xref" href="ch06.html" title="Chapter&#xA0;6.&#xA0;Projectiles"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">34</span><span sentence-index="9885" class="">Chapter&#xA0;6</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9886</span><span sentence-index="9886" class=""> ,  we  highly  recommend  that  you            review  it  before  continuing.</span></span></p><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9888</span><span sentence-index="9888" class="">While  we  aren&apos;t  very  concerned  about  what  happens  in  the  barrel  of  the  gun,  there  are  a            few  tidbits  we  do  need  to  know  about  the  system. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9889</span><span sentence-index="9889" class="">  The  first  is  where  the  barrel  is  pointed. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">39</span><span sentence-index="9890" class="">           This  is  referred  to  as  the  gun&apos;s  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">39</span><span sentence-index="9890" class="">aim</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">39</span><span sentence-index="9890" class="">,  </span></span><a id="I_indexterm4_id346099" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9891</span><span sentence-index="9891" class="">and  is  almost  universally  controlled  by  where  the  mouse  is  on  the  screen.</span></span></a></p><p><a id="I_indexterm4_id346099" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9894</span><span sentence-index="9894" class="">The  next  is  the  initial  velocity  of  the  bullet. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">44</span><span sentence-index="9895" class=""> The  bullet  here  refers  to  the  actual  metal            projectile  that  leaves  the  barrel;  the  thing  that  you  load  into  the  gun  is  called  a                </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">44</span><span sentence-index="9895" class="">round</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9895</span><span sentence-index="9895" class="">  and  contains  a  casing,  gunpowder,  a  primer,  and,  of  course,  the            bullet. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">45</span><span sentence-index="9896" class=""> The  initial  velocity  is  usually  measured  just  after  the  bullet  leaves  the  muzzle  (the            end  of  the  barrel)  and  is  appropriately  called  </span></span></a><a id="I_indexterm4_id346125" class="indexterm"></a><a id="I_indexterm4_id346131" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">47</span><span sentence-index="9898" class="">the  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">47</span><span sentence-index="9898" class="">muzzle  velocity</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9898</span><span sentence-index="9898" class=""> . </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9899</span><span sentence-index="9899" class="">  Every  kind  of  ammunition  is  tested  at            the  factory  and  given  a  muzzle  velocity. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9900</span><span sentence-index="9900" class="">  You  can  add  realism  to  your  game  by  giving  different            ammunition  different  muzzle  velocities. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9901</span><span sentence-index="9901" class="">  This  way,  a  handgun  round  won&apos;t  have  the  same  range  as            a  rifle  round. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">51</span><span sentence-index="9902" class=""> Ammunition  also  comes  with  a  </span></span></a><a id="I_indexterm4_id346149" class="indexterm"></a><a id="I_indexterm4_id346158" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9904</span><span sentence-index="9904" class="">bullet  weight  measured  in  either  grams  or  grains. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9905</span><span sentence-index="9905" class="">  One  grain  is  equal  to  0.0648            grams  and  is  an  old  unit  based  on  the  weight  of  a  single  seed  of  wheat!</span></span></a></p><p><a id="I_indexterm4_id346158" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9908</span><span sentence-index="9908" class="">Last,  but  not  least,  we  need  some  approximation  for  the  way  air  resistance  will  affect  the            flight  of  a  bullet. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9909</span><span sentence-index="9909" class="">  This  is  where  things  start  to  get  interesting  for  people  studying            ballistics,  but  we&apos;ll  stay  away  from  exotic  aerodynamics  and  use  our  existing  drag  model. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9910</span><span sentence-index="9910" class="">            First,  we  should  review  the  current  state  of  first-person-shooter  physics.</span></span></a></p><p><a id="I_indexterm4_id346158" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">62</span><span sentence-index="9913" class="">Firearms  in  games  present  a  </span></span></a><a id="I_indexterm4_id346180" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9914</span><span sentence-index="9914" class="">unique  problem  to  the  game  developer. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9915</span><span sentence-index="9915" class="">  If  you  have  ever  been  to  the  firing  range,            you  know  that  in  reality  it  takes  a  good  deal  of  practice  and  concentration  to  hit  a  target            reliably. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9916</span><span sentence-index="9916" class="">  Considering  that  target  shooting  is  hard  enough  to  be  an  Olympic  sport  under  very            controlled  circumstances,  the  ability  for  in-game  characters  to  spring  from  cover  and  shoot            five  enemies  with  five  bullets  is  somewhat  superhuman. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9917</span><span sentence-index="9917" class="">  We  have  all  played  games  where  you  find            yourself  shooting  a  target  very  far  away,  and  the  procedure  is  as  simple  as  pointing  the            crosshair  where  you  want  the  bullet  to  go  and  clicking  the  mouse  button. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9918</span><span sentence-index="9918" class="">  In  reality,  the  skill            needed  to  get  a  bullet  weighing  a  few  grams  to  hit  something  a  few  hundred  meters  away  is  so            complicated  it  is  amazing  that  anyone  does  it  with  regularity. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9919</span><span sentence-index="9919" class="">  For  those  developers  wishing  to            actually  model  firearm  performance  in  their  game,  there  is  a  double-edged  sword  to            consider.</span></span></a></p><p><a id="I_indexterm4_id346180" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9922</span><span sentence-index="9922" class="">The  physics  of  what  happens  to  the  bullet  in  its  flight  are  not  simple  to  boil  down. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9923</span><span sentence-index="9923" class="">            However,  the  behavior  of  the  bullet  as  it  flies  downrange  is  important  in  the  practical  art  of            marksmanship. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9924</span><span sentence-index="9924" class="">  There  has  been  considerable  work  done  to  find  a  way  to  compare  ammunition  so            that  a  hunter  or  marksman  can  predict  the  performance  of  a  particular  ammunition. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">74</span><span sentence-index="9925" class=""> The  result            is  a  pseudophysical  factor  </span></span></a><a id="I_indexterm4_id346209" class="indexterm"></a><a id="I_indexterm4_id346215" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">76</span><span sentence-index="9927" class="">called  the  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">76</span><span sentence-index="9927" class="">ballistic  coefficient</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9927</span><span sentence-index="9927" class="">  (BC). </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9928</span><span sentence-index="9928" class="">  The  BC  is  a  ratio  that            determines  the  ability  of  a  particular  bullet  to  retain  its  downrange  velocity  compared  to            some  standard  bullet. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9929</span><span sentence-index="9929" class="">  The  most  common  form  is  that  of  the  G1  reference  projectile. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9930</span><span sentence-index="9930" class="">  However,            this  number  has  limited  use,  as  it  does  not  take  into  account  modern  bullet  shapes  that            provide  very  low  drag. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9931</span><span sentence-index="9931" class="">  There  are  updated  models  whose  designations  are  G2,  G3,  and  ECT. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9932</span><span sentence-index="9932" class="">  If  you            are  interested  in  the  details  of  highly  accurate  ballistic  modeling,  there  are  a  few  free            programs  that  can  provide  you  in-depth  models  such  as  Remington&apos;s  Shoot! </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9933</span><span sentence-index="9933" class="">  and  the  GNU            Ballistics  program. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">83</span><span sentence-index="9934" class=""> Given  that  most  first-person  shooters  don&apos;t  yet  include  wind  effects  or            bullet  drop,  we&apos;ll  limit  ourselves  to  a  simplified  method  of  turning  the  existing  parameters            in  the  </span></span></a><a class="xref" href="ch06.html" title="Chapter&#xA0;6.&#xA0;Projectiles"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">84</span><span sentence-index="9935" class="">Chapter&#xA0;6</span></span></a><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">84</span><span sentence-index="9935" class=""> projectile  </span></span><a id="I_indexterm4_id346237" class="indexterm"></a><a id="I_indexterm4_id346247" class="indexterm"></a><a id="I_indexterm4_id346256" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9939</span><span sentence-index="9939" class="">algorithm.</span></span></a></p></div><div class="sect1" title="Taking Aim"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="taking_aim"><a id="I_indexterm4_id346256" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">91</span><span sentence-index="9942" class="">Taking  Aim</span></span></a></h2></div></div></div><p><a id="I_indexterm4_id346256" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">93</span><span sentence-index="9944" class="">When  discussing  aim,  </span></span></a><a id="gu18.2" class="indexterm"></a><a id="pr18.2" class="indexterm"></a><a id="I_indexterm4_id346311" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9947</span><span sentence-index="9947" class="">we&apos;ll  primarily  be  talking  about  rifles  or  carbines  here,  as  handguns  are  not            usually  used  for  long-distance  shooting. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9948</span><span sentence-index="9948" class="">  Similarly,  shotguns,  given  that  they  fire  many  small            projectiles,  are  generally  not  carefully  aimed  but  instead  pointed. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">98</span><span sentence-index="9949" class=""> Both  of  these  weapons  are            what  are  </span></span></a><a id="I_indexterm4_id346325" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">99</span><span sentence-index="9950" class="">known  as  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">99</span><span sentence-index="9950" class="">point-blank  weapons</span></span></em></span><span class="nonQuoteStr" gspkNameUnknown="narrator" gsIndex="1"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9951</span><span sentence-index="9951" class=""> . </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9952</span><span sentence-index="9952" class="">  Rifles  have  a  point-blank            range,  which  we  will  discuss,  but  for  handguns  and  shotguns  this  really  refers  to  the  fact            that  at  the  ranges  where  these  weapons  are  effective,  you  can  reasonably  expect  to  hit  where            you  the  point  the  gun. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9953</span><span sentence-index="9953" class="">  That  is  not  to  say  that  these  weapons  don&apos;t  need  to  be  aimed  to  be            effective,  but  in  the  fast-paced  combat  central  to  most  first-person  shooters  it  would  be            tedious  to  have  the  player  use  the  sights  on  a  handgun  to  effectively  hit  anything. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9954</span><span sentence-index="9954" class="">  Instead,            most  games  use  a  </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9955</span><span sentence-index="9955" class="" gspkNameUnknown="narrator" gsIndex="1"> &quot;shoot  from  the  hip&quot; </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9956</span><span sentence-index="9956" class="">  or  free  aim  model,  where  the  gun  is  not  even  in  line            with  the  camera. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9957</span><span sentence-index="9957" class="">  The  careful  programmer  might  still  check  to  see  if  the  target  is  within  the            effective  range  of  the  bullet  before  counting  it  as  a  hit  even  when  auto-aiming  in  this            manner. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9958</span><span sentence-index="9958" class="">  The  effective  range  is  the  distance  the  bullet  can  travel  before  hitting  the  ground. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">108</span><span sentence-index="9959" class="">           Determining  this  is  a  straightforward  application  of  the  equations  in  </span></span></a><a class="xref" href="ch02.html" title="Chapter&#xA0;2.&#xA0;Kinematics"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">109</span><span sentence-index="9960" class="">Chapter&#xA0;2</span></span></a><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">109</span><span sentence-index="9960" class=""> and  </span></span><a class="xref" href="ch06.html" title="Chapter&#xA0;6.&#xA0;Projectiles"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">111</span><span sentence-index="9962" class="">Chapter&#xA0;6</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9962</span><span sentence-index="9962" class=""> .</span></span></p><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">113</span><span sentence-index="9964" class="">To  discuss  </span></span><a id="I_indexterm4_id346357" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">114</span><span sentence-index="9965" class="">firearms,  we&apos;ve  adapted  the  code  from  the  </span></span></a><a id="I_indexterm4_id346369" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">116</span><span sentence-index="9967" class="">Cannon2  example  in  </span></span></a><a class="xref" href="ch06.html" title="Chapter&#xA0;6.&#xA0;Projectiles"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">117</span><span sentence-index="9968" class="">Chapter&#xA0;6</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9969</span><span sentence-index="9969" class="">  to  run  in  a  Java  program  called            Marksman. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9970</span><span sentence-index="9970" class="">  In  our  example,  the  player  is  looking  through  a  scope  at  a  target  of  1  meter  by  1            meter. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9971</span><span sentence-index="9971" class="">  We&apos;ve  provided  him  an  adjustable  level  of  zoom  so  that  as  the  range  increases,  he  can            still  see  the  target. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9972</span><span sentence-index="9972" class="">  The  aiming  point  is  shown  as  an  empty  circle,  and  the  bullet  hole  as  a            black  filled  circle. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9973</span><span sentence-index="9973" class="">  The  method  we&apos;ve  used  to  determine  where  the  user  is  aiming  in  the  model            world  converts  the  pixel-based  location  of  the  mouse  to  a  coordinate  in  the  model  world. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9974</span><span sentence-index="9974" class="">  This            distance  and  the  range  are  then  used  to  find  the  angles  required  to  aim  the  gun. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">124</span><span sentence-index="9975" class=""> The  code  to            do  this  is  shown  next,  where  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">124</span><span sentence-index="9975" class="">alp</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">124</span><span sentence-index="9975" class=""> and  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">124</span><span sentence-index="9975" class="">gmm</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9975</span><span sentence-index="9975" class="">  are  the  angles  of  inclination  and  bearing. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">125</span><span sentence-index="9976" class=""> These  are  measured            from  horizontal  and  the  line  of  view:</span></span></p><a id="I_programlisting4_id346403"><pre class="programlisting">alp = 90-Math.toDegrees(Math.atan(((200-aimY)*(targetH/(drawH)))/range));
gmm = Math.toDegrees(Math.atan(((200-aimX)*(targetH/(drawH)))/range));</pre><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">127</span><span sentence-index="9978" class="">where  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">127</span><span sentence-index="9978" class="">targetH/drawH</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9978</span><span sentence-index="9978" class="">  is  just  the  ratio  of  the  target            height  to  the  height  of  the  target  in  pixels  on  the  screen. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9979</span><span sentence-index="9979" class="">  This  allows  the  mouse  coordinate            given  in  pixels  to  be  converted  to  meters. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9980</span><span sentence-index="9980" class="">  The  arctangent  then  converts  the  ratio  of  these            distances  to  an  angle  for  the  gun. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">130</span><span sentence-index="9981" class=""> The  constant  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">130</span><span sentence-index="9981" class="">200</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9981</span><span sentence-index="9981" class="">  refers            to  the  pixel  coordinate  system,  which  is  200  pixels  away  from  the  center  of  the  target. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9982</span><span sentence-index="9982" class="">  If  you            were  to  adapt  this  for  a  full  3D  rendering  system,  you  could  remove  a  lot  of  these  conversions            we  have  to  do.</span></span></p></a><p><a id="I_programlisting4_id346403"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">134</span><span sentence-index="9985" class="">At  the  10-meter  range  shown  in  </span></span></a><a class="xref" href="ch18.html#point-blank_range" title="Figure&#xA0;18-1.&#xA0;Point-blank range"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">135</span><span sentence-index="9986" class="">Figure&#xA0;18-1</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9987</span><span sentence-index="9987" class=""> ,  we  are  within            point-blank  range  and  the  bullet  hole  lines  up  with  the  sights.</span></span></p><div class="figure"><a id="point-blank_range"></a><div class="figure-contents"><a id="point-blank_range"></a><div class="mediaobject"><a id="point-blank_range"></a><a id="I_mediaobject4_id346451"><img src="httpatomoreillycomsourceoreillyimages1598982.png.jpg" alt="Point-blank range"></a></div></div><div class="figure-title"><a id="I_mediaobject4_id346451"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">142</span><span sentence-index="9993" class="">Figure&#xA0;18-1.&#xA0;Point-blank  range</span></span></a></div></div><p><a id="I_mediaobject4_id346451"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">144</span><span sentence-index="9995" class="">In  </span></span></a><a class="xref" href="ch18.html#hitting_lower_than_expected" title="Figure&#xA0;18-2.&#xA0;Hitting lower than expected"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">145</span><span sentence-index="9996" class="">Figure&#xA0;18-2</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9997</span><span sentence-index="9997" class=""> ,  with  the  target  at  100  meters,  we  see            that  for  some  reason  the  bullet  is  not  hitting  the  target  where  we  have  pointed  the  weapon. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9998</span><span sentence-index="9998" class="">  At            300  meters,  the  bullet  hole  isn&apos;t  even  on  the  target. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">9999</span><span sentence-index="9999" class="">  You  can  see  that  by  simply  accounting            for  projective  motion  and  idealized  drag,  we  are  already  having  trouble  hitting  the  bull&apos;s            eye. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">149</span><span sentence-index="10000" class=""> The  process  by  which  these  differences  are  accounted  for  is  called  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">149</span><span sentence-index="10000" class="">zeroing  the                sights</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10000</span><span sentence-index="10000" class=""> .</span></span></p><div class="figure"><a id="hitting_lower_than_expected"></a><div class="figure-contents"><a id="hitting_lower_than_expected"></a><div class="mediaobject"><a id="hitting_lower_than_expected"></a><a id="I_mediaobject4_id346495"><img src="httpatomoreillycomsourceoreillyimages1598983.png.jpg" alt="Hitting lower than expected"></a></div></div><div class="figure-title"><a id="I_mediaobject4_id346495"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">155</span><span sentence-index="10006" class="">Figure&#xA0;18-2.&#xA0;Hitting  lower  than  expected</span></span></a></div></div><div class="sect2" title="Zeroing the Sights"><div class="titlepage"><div><div><h3 class="title" id="zeroing_the_sights"><a id="I_mediaobject4_id346495"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">157</span><span sentence-index="10008" class="">Zeroing  the  Sights</span></span></a></h3></div></div></div><p><a id="I_mediaobject4_id346495"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">159</span><span sentence-index="10010" class="">The  idea  of  zeroing  the  </span></span></a><a id="ai18.2.1" class="indexterm"></a><a id="I_indexterm4_id346540" class="indexterm"></a><a id="tr18.2.1" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10013</span><span sentence-index="10013" class="">sights  is  probably  the  most  important  thing  to  model  if  you  want  to  have                realistic  gunplay  in  your  game. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10014</span><span sentence-index="10014" class="">  As  we  mentioned  before,  when  players  are  running  from  room                to  room,  they  probably  don&apos;t  want  to  be  thinking  about  the  wind  and  the  range. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10015</span><span sentence-index="10015" class="">  However,  for                a  hunting  simulation  or  a  sniper  game,  it  may  be  appropriate  to  introduce  this.</span></span></a></p><p><a id="tr18.2.1" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10018</span><span sentence-index="10018" class="">When  a  person  is  looking  through  a  scope,  her  body  and  the  rifle  become  a  rigid  body  so                that  to  change  the  aim  of  the  weapon,  she  must  rotate  her  entire  body. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10019</span><span sentence-index="10019" class="">  This  is  convenient                for  us,  because  the  player  generally  controls  the  shooter&apos;s  position  with  his  left  hand  via                the  keyboard  and  the  direction  of  aim  with  the  right  hand. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10020</span><span sentence-index="10020" class="">  Other  methods  of  aiming,  briefly                described  previously  as  free  aim,  don&apos;t  really  have  a  counterpart  in  the  real  world,  so                we&apos;ll  be  limiting  ourselves  to  this  solid-body  aiming.</span></span></a></p><div class="sect3" title="Bullet drop: Gravity and air resistance"><div class="titlepage"><div><div><h4 class="title" id="bullet_drop_colon_gravity_and_air_resist"><a id="tr18.2.1" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">172</span><span sentence-index="10023" class="nonQuoteStr">Bullet  drop:  Gravity  and  air  resistance</span></span></a></h4></div></div></div><p><a id="tr18.2.1" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">174</span><span sentence-index="10025" class="">If  you  are  aiming  a  rifle  horizontally,  </span></span></a><a id="ze18.2.1.1" class="indexterm"></a><a id="gr18.2.1.1" class="indexterm"></a><a id="re18.2.1.1" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10028</span><span sentence-index="10028" class="">you  might  expect  that  the  bullet  leaves  the  muzzle  horizontally,  and  that                    gravity  and  air  resistance  cause  it  to  drop  from  there. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">178</span><span sentence-index="10029" class=""> </span></span></a><a class="xref" href="ch18.html#zero-elevation_scope" title="Figure&#xA0;18-3.&#xA0;Zero-elevation scope"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">179</span><span sentence-index="10030" class="">Figure&#xA0;18-3</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10031</span><span sentence-index="10031" class="">  shows  a  rifle  and  scope  combination  that  is  mounted                    perfectly  parallel. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10032</span><span sentence-index="10032" class="">  Ignoring  all  other  factors  for  a  minute,  we  see  that  the  bullet  will                    never  hit  where  the  scope  is  pointed. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10033</span><span sentence-index="10033" class="">  It  will  always  be  a  few  centimeters  low.</span></span></p><div class="figure"><a id="zero-elevation_scope"></a><div class="figure-contents"><a id="zero-elevation_scope"></a><div class="mediaobject"><a id="zero-elevation_scope"></a><a id="I_mediaobject4_id346656"><img src="httpatomoreillycomsourceoreillyimages1598984.png" alt="Zero-elevation scope"></a></div></div><div class="figure-title"><a id="I_mediaobject4_id346656"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">188</span><span sentence-index="10039" class="">Figure&#xA0;18-3.&#xA0;Zero-elevation  scope</span></span></a></div></div><p><a id="I_mediaobject4_id346656"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10041</span><span sentence-index="10041" class="">By  adjusting  the  elevation  control  of  the  scope,  we  can  make  the  rifle  hit  where  the                    scope  is  pointed. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">191</span><span sentence-index="10042" class=""> (See  </span></span></a><a class="xref" href="ch18.html#scope_with_elevation" title="Figure&#xA0;18-4.&#xA0;Scope with elevation"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">192</span><span sentence-index="10043" class="">Figure&#xA0;18-4</span></span></a><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">192</span><span sentence-index="10043" class="">.)  The  range  at  which  the                    bullet  will  cross  the  line  defined  by  the  scope  is  called  </span></span><a id="I_indexterm4_id346683" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">194</span><span sentence-index="10045" class="">the  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">194</span><span sentence-index="10045" class="">zero  range</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10045</span><span sentence-index="10045" class=""> . </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10046</span><span sentence-index="10046" class="">  If  a  target  is  at  the  zero  range,  you                    simply  point  the  crosshairs  and  pull  the  trigger.</span></span></a></p><div class="figure"><a id="scope_with_elevation"></a><div class="figure-contents"><a id="scope_with_elevation"></a><div class="mediaobject"><a id="scope_with_elevation"></a><a id="I_mediaobject4_id346706"><img src="httpatomoreillycomsourceoreillyimages1598985.png" alt="Scope with elevation"></a></div></div><div class="figure-title"><a id="I_mediaobject4_id346706"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">201</span><span sentence-index="10052" class="">Figure&#xA0;18-4.&#xA0;Scope  with  elevation</span></span></a></div></div><p><a id="I_mediaobject4_id346706"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">203</span><span sentence-index="10054" class="">If  we  remove  the  target  and  graph  the  trajectory,  it  would  look  something  like  </span></span></a><a class="xref" href="ch18.html#ballistic_trajectory" title="Figure&#xA0;18-5.&#xA0;Ballistic trajectory"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">204</span><span sentence-index="10055" class="">Figure&#xA0;18-5</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10056</span><span sentence-index="10056" class=""> .</span></span></p><div class="figure"><a id="ballistic_trajectory"></a><div class="figure-contents"><a id="ballistic_trajectory"></a><div class="mediaobject"><a id="ballistic_trajectory"></a><a id="I_mediaobject4_id346743"><img src="httpatomoreillycomsourceoreillyimages1598986.png" alt="Ballistic trajectory"></a></div></div><div class="figure-title"><a id="I_mediaobject4_id346743"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">211</span><span sentence-index="10062" class="">Figure&#xA0;18-5.&#xA0;Ballistic  trajectory</span></span></a></div></div><p><a id="I_mediaobject4_id346743"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10064</span><span sentence-index="10064" class="">Here  we  can  see  there  is  a  second  point  in  which  the  bullet  will  cross  the  line  made                    by  the  scope&apos;s  crosshairs. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">214</span><span sentence-index="10065" class=""> This  is  called  </span></span></a><a id="I_indexterm4_id346770" class="indexterm"></a><a id="I_indexterm4_id346776" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">216</span><span sentence-index="10067" class="">the  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">216</span><span sentence-index="10067" class="">far  zero</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">216</span><span sentence-index="10067" class="">,  or  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">216</span><span sentence-index="10067" class="">second  zero</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10067</span><span sentence-index="10067" class=""> . </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10068</span><span sentence-index="10068" class="">  This                    is  generally  where  the  thing  you  will  be  shooting  at  will  be. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10069</span><span sentence-index="10069" class="">  This  diagram  is  often                    available  from  ammunition  suppliers. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10070</span><span sentence-index="10070" class="">  More  often,  they  provide  ballistic  tables  of                    downrange  heights. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10071</span><span sentence-index="10071" class="">  It  is  important  when  using  these  charts  that  you  remember  they  assume                    the  scope  to  be  horizontal  and  that  the  bullet  starts  with  a  negative  height  below  the                    scope  line. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">221</span><span sentence-index="10072" class=""> </span></span></a><a class="xref" href="ch18.html#long-range_trajectory_remington_express" title="Table&#xA0;18-1.&#xA0;Long-range trajectory Remington Express .45&#x2013;70 Govt"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">222</span><span sentence-index="10073" class="">Table&#xA0;18-1</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10074</span><span sentence-index="10074" class="">  shows  data  from                    Remington&apos;s  website  and  assumes  the  rifle  was  zeroed  at  100  yards;  it  tells  you  how  far                    the  bullet  is  below  the  horizontal  at  every  50  yards  past  that  0. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10075</span><span sentence-index="10075" class="">  You  can  tune  the  drag                    coefficient  in  the  projectile  simulation  to  match  these  elevations.</span></span></p><div class="table"><a id="long-range_trajectory_remington_express"><div class="table-title"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">226</span><span sentence-index="10077" class="">Table&#xA0;18-1.&#xA0;Long-range  trajectory  Remington  Express  .45&#x2013;70  Govt</span></span></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="col1"><col class="col2"><col class="col3"><col class="col4"><col class="col5"><col class="col6"><col class="col7"><col class="col8"></colgroup><tbody><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">227</span><span sentence-index="10078" class="">Range  in  yards</span></span></p>
                </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">228</span><span sentence-index="10079" class="">100</span></span></p>
                </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">229</span><span sentence-index="10080" class="">150</span></span></p>
                </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">230</span><span sentence-index="10081" class="">200</span></span></p>
                </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">231</span><span sentence-index="10082" class="">250</span></span></p>
                </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">232</span><span sentence-index="10083" class="">300</span></span></p>
                </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">233</span><span sentence-index="10084" class="">400</span></span></p>
                </td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">234</span><span sentence-index="10085" class="">500</span></span></p>
                </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">235</span><span sentence-index="10086" class="nonQuoteStr">Drop  in  inches</span></span></p>
                </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">236</span><span sentence-index="10087" class="">0</span></span></p>
                </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">237</span><span sentence-index="10088" class="">&#x2212;4.6</span></span></p>
                </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">238</span><span sentence-index="10089" class="">&#x2212;13.8</span></span></p>
                </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">239</span><span sentence-index="10090" class="">&#x2212;28.6</span></span></p>
                </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">240</span><span sentence-index="10091" class="">&#x2212;50.1</span></span></p>
                </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">241</span><span sentence-index="10092" class="">&#x2212;115.47</span></span></p>
                </td><td style="text-align: left; vertical-align: top; ">
                  <p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">242</span><span sentence-index="10093" class="">&#x2212;219.1</span></span></p>
                </td></tr></tbody></table></div></a></div><p><a id="long-range_trajectory_remington_express"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10095</span><span sentence-index="10095" class="">From  this  table  you  can  see  that  the  bullet  drop  is  over  two  feet  at  250  yards. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10096</span><span sentence-index="10096" class="">  This                    means  that  if  the  target  is  at  250  yards  and  your  scope  is  zeroed  at  100  yards,  then  you                    would  have  to  aim  two  feet  above  your  target  to  hit  it. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10097</span><span sentence-index="10097" class="">  That  might  be  high  enough  that  you                    can&apos;t  even  see  the  target  in  the  scope  anymore!</span></span></a></p><p><a id="long-range_trajectory_remington_express"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">249</span><span sentence-index="10100" class="">To  counteract  this  problem,  most  rifles  come  with  scopes  that  have  </span></span></a><a id="I_indexterm4_id347089" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10101</span><span sentence-index="10101" class="">elevation  adjustments. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10102</span><span sentence-index="10102" class="">  This  is  a  knob  on  the  side  of  the  scope  that  can  be                    rotated  to  discrete  settings  called  clicks. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10103</span><span sentence-index="10103" class="">  Most  scopes  use  a  1/4  minute  of  angle                    adjustment  per  click  although  some  use  1/8,  1/2,  or  even  full  minutes. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10104</span><span sentence-index="10104" class="">  A  minute  of  angle                    is  simply  1/60  of  a  degree. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10105</span><span sentence-index="10105" class="">  Therefore,  when  adjusting  for  elevation,  the  shooter  can  turn                    a  knob  on  the  scope,  and  as  she  hears  the  clicks,  she  knows  that  she  has  adjusted  her                    scope  however  many  minutes  of  angle. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10106</span><span sentence-index="10106" class="">  Now  when  she  re-aims  the  crosshairs  on  the  target,                    the  barrel  will  have  a  slightly  different  angle  than  it  did  before,  essentially  aiming                    higher  to  accommodate  the  longer  distance.</span></span></a></p><p><a id="I_indexterm4_id347089" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10109</span><span sentence-index="10109" class="">To  achieve  high  accuracy  in  the  field,  the  shooter  would  know  that  she  zeroed  her                    rifle  to  a  certain  range. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10110</span><span sentence-index="10110" class="">  Then,  when  attempting  a  shot,  she  would  estimate  the  range  to                    her  target  and  adjust  the  scope  however  many  clicks  up  or  down. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10111</span><span sentence-index="10111" class="">  The  biggest  cause  of  error                    is  an  inaccurate  estimate  of  range. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10112</span><span sentence-index="10112" class="">  Modern  shooters  often  use  laser  range  finders  to                    determine  exactly  what  elevation  offset  is  required. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10113</span><span sentence-index="10113" class="">  In  long-distance  shooting  situations,                    you  can  provide  the  range  to  the  users  and  let  them  adjust  the  rifle&apos;s  scope  from  the                    current  zero  range  to  a  new  zero  range.</span></span></a></p><p><a id="I_indexterm4_id347089" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">265</span><span sentence-index="10116" class="">Most  games  today  don&apos;t  model  even  the  effect  of  gravity  on  a  bullet,  so  adding                    elevation  adjustment  to  a  sniper  or  hunting  portion  of  your  game  will  add  much-needed                        </span></span></a><a id="I_indexterm4_id347120" class="indexterm"></a><a id="I_indexterm4_id347130" class="indexterm"></a><a id="I_indexterm4_id347139" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10119</span><span sentence-index="10119" class="">accuracy.</span></span></a></p></div><div class="sect3" title="Wind"><div class="titlepage"><div><div><h4 class="title" id="wind"><a id="I_indexterm4_id347139" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">271</span><span sentence-index="10122" class="">Wind</span></span></a></h4></div></div></div><p><a id="I_indexterm4_id347139" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">273</span><span sentence-index="10124" class="">Just  like  in  the  </span></span></a><a class="xref" href="ch06.html" title="Chapter&#xA0;6.&#xA0;Projectiles"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">274</span><span sentence-index="10125" class="">Chapter&#xA0;6</span></span></a><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">274</span><span sentence-index="10125" class=""> projectile  </span></span><a id="I_indexterm4_id347165" class="indexterm"></a><a id="I_indexterm4_id347175" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10128</span><span sentence-index="10128" class="">example,  our  target  shooting  game&apos;s  bullets  are  affected  by  wind. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10129</span><span sentence-index="10129" class="">  Just  as                    before,  a  bullet&apos;s  susceptibility  to  wind  largely  depends  on  its  lateral  drag  coefficient. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">279</span><span sentence-index="10130" class="">                   In  our  simulation,  you  can  tune  the  bullet&apos;s  susceptibility  to  the  wind  by  adjusting  the                    factor  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">279</span><span sentence-index="10130" class="">Cw</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10130</span><span sentence-index="10130" class=""> . </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10131</span><span sentence-index="10131" class="">  This,  again,  will  apply  only  to  rifles                    shooting  at  long  ranges. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10132</span><span sentence-index="10132" class="">  At  20  meters,  the  wind  will  have  little  to  do  in  determining                    where  a  bullet  will  hit. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10133</span><span sentence-index="10133" class="">  At  600  meters,  it  can  cause  the  bullet  to  be  off  by  a  meter! </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10134</span><span sentence-index="10134" class="">  The                    adjustment  for  wind  is  similar  to  the  adjustment  for  elevation. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10135</span><span sentence-index="10135" class="">  By  turning  a  knob,  you  can                    adjust  your  scope  or  sights  to  be  slightly  to  the  right  or  left  of  the  barrel&apos;s                    centerline. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10136</span><span sentence-index="10136" class="">  This  angle,  called  gamma  in  our  simulation,  enables  you  to  cancel  out  the                    effect  of  wind.</span></span></a></p><p><a id="I_indexterm4_id347175" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10139</span><span sentence-index="10139" class="">To  deal  with  wind  in  the  field,  we  require  simple  calculations  that  depend  on  the                    particular  performance  of  the  shooter&apos;s  ammunition. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10140</span><span sentence-index="10140" class="">  It  may  work  something  like  this:  if                    the  wind  is  blowing  directly  across  your  shot,  the  adjustment  in  inches  is  going  to  be                    half  the  wind  speed  in  miles  per  hour. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10141</span><span sentence-index="10141" class="">  Of  course,  there  are  many  other  rules  of  thumb  that                    differ  for  each  caliber  of  ammunition,  but  for  our  simulation  you  can  tune  the  wind  drag                    coefficient  to  whatever  value  you  want  your  shooter  to  encounter. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10142</span><span sentence-index="10142" class="">  He  will  have  to  spend                    some  time  at  the  range,  just  like  a  real  shooter,  figuring  out  how  much  the  wind  affects                    his  shots. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">292</span><span sentence-index="10143" class=""> As  the  wind  changes,  he  will  have  to  adjust  in  real  time  and  either  aim  to  the                    left  or  right  of  the  target  or  readjust  the  windage  settings  for  the  </span></span></a><a id="I_indexterm4_id347210" class="indexterm"></a><a id="I_indexterm4_id347218" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10145</span><span sentence-index="10145" class="">scope.</span></span></a></p></div></div><div class="sect2" title="Breathing and Body Position"><div class="titlepage"><div><div><h3 class="title" id="breathing_and_body_position"><a id="I_indexterm4_id347218" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">297</span><span sentence-index="10148" class="">Breathing  and  Body  Position</span></span></a></h3></div></div></div><p><a id="I_indexterm4_id347218" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">299</span><span sentence-index="10150" class="">Although  most  games  </span></span></a><a id="ai18.2.2" class="indexterm"><span class="nonQuoteStr" gspkNameUnknown="narrator" gsIndex="1"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10151</span><span sentence-index="10151" class="">don&apos;t  model  gravity  and  wind  when  calculating  bullet  trajectories,  many  do                attempt  to  regulate  the  accuracy  with  which  you  initially  fire  the  bullet. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10152</span><span sentence-index="10152" class="">  Most  commonly,                game  developers  accomplish  this  by  approximating  the  crosshairs  with  four  lines  that  do  not                intersect. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10153</span><span sentence-index="10153" class="">  When  fired,  the  bullet  will  land  anywhere  within  the  circle  described  by  the                inner  endpoints  of  these  four  lines. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10154</span><span sentence-index="10154" class="">  Different  weapons  have  different  accuracies,  and  the                lines  can  move  in  or  out  to  reflect  that. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10155</span><span sentence-index="10155" class="">  Usually  the  first  shot  is  the  most  accurate,  and                once  the  weapon  is  fired  you  must  </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10156</span><span sentence-index="10156" class="" gspkNameUnknown="narrator" gsIndex="1"> &quot;resight&quot; </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10157</span><span sentence-index="10157" class="">  the  target,  and  this  takes  time. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10158</span><span sentence-index="10158" class="">  Therefore,                shots  fired  in  quick  succession  usually  become  less  and  less  accurate.</span></span></a></p><p><a id="ai18.2.2" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10161</span><span sentence-index="10161" class="">In  our  simulation,  we  modeled  a  few  things  that  affect  accuracy  in  the  real  world  and                will  give  you  some  suggestions  for  other  factors  you  could  easily  include. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10162</span><span sentence-index="10162" class="">  As  our  game  was                most  interested  in  long-distance  shooting  via  rifles,  the  most  common  source  of  error  is                breathing. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10163</span><span sentence-index="10163" class="">  As  discussed  before,  when  a  shooter  is  looking  through  a  scope  on  a  rifle,  she                essentially  becomes  a  fixed  body. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10164</span><span sentence-index="10164" class="">  As  she  breathes,  the  rifle  is  essentially  breathing  too. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10165</span><span sentence-index="10165" class="">                When  making  difficult  shots,  it  is  very  common  for  the  shooter  to  take  a  breath  and  hold  it                while  firing. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">315</span><span sentence-index="10166" class=""> In  our  simulation,  we&apos;ve  modeled  this  with  a  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">315</span><span sentence-index="10166" class="">breathing</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10166</span><span sentence-index="10166" class="">  class  that  adjusts  the  point  of  aim  up  and  down  with  time  to  mimic                how  a  scope  moves  when  the  shooter  is  breathing  deeply. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">316</span><span sentence-index="10167" class=""> This  works  via  a  timer  started  in                our  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">316</span><span sentence-index="10167" class="">initComponents()</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10167</span><span sentence-index="10167" class="">  function  that  fires  every  100  ms. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10168</span><span sentence-index="10168" class="">  In                the  code  that  follows,  you&apos;ll  see  that  this  leads  to  a  breath  every  two  seconds.</span></span></a></p><a id="I_programlisting4_id347290"><pre class="programlisting">        timer = new Timer(100, TargetPanel);
        timer.start();</pre><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">320</span><span sentence-index="10171" class="">That  function  causes  the  aim  point  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">320</span><span sentence-index="10171" class="">(aimX,  aimY)</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">320</span><span sentence-index="10171" class=""> to  be                moved  independently  of  the  cursor  via  the  following  algorithm:</span></span></p></a><a id="I_programlisting4_id347306"><pre class="programlisting">        if (direction == true) {
            breathHeight = breathHeight + 1;
            if (breathHeight == 5) {
                direction = false;
                breathHeight = breathHeight + 1;
            }
        }

        if (direction == false) {
            breathHeight = breathHeight &#x2212; 1;
            if (breathHeight == &#x2212;5) {
                direction = true;
            }
        }

        if (breathing) {
            aimY = aimY + breathHeight;
        }</pre><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10173</span><span sentence-index="10173" class="">Here  we  are  simply  moving  it  up  to  some  limit&#x2014;in  our  case,  5  pixels&#x2014;and  then  moving  it                back  down. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10174</span><span sentence-index="10174" class="">  A  better  implementation  would  increase  the  unsteadiness  as  the  user  zooms  in,  as                shakes  are  magnified  also. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10175</span><span sentence-index="10175" class="">  There  is  no  limit  to  the  innovative  functions  you  can  use  to  move                the  aiming  circle  away  from  the  cursor  to  simulate  the  reality  of  having  to  aim  a  gun. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10176</span><span sentence-index="10176" class="">  Yet                this  is  certainly  an  area  of  first-person  shooters  that  is  lacking  in  variety.</span></span></p><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">327</span><span sentence-index="10178" class="">When  he  is  ready  to  fire,  the  user  can  left-click  to  hold  his  breath,  the  variable                    </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">327</span><span sentence-index="10178" class="">breathing</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">327</span><span sentence-index="10178" class=""> becomes  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">327</span><span sentence-index="10178" class="">false</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10178</span><span sentence-index="10178" class=""> ,  and  the  crosshairs  will  stop  moving. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10179</span><span sentence-index="10179" class="">  This  simple  addition  makes  the  game                much  more  challenging  and  engaging. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10180</span><span sentence-index="10180" class="">  It  should  be  noted  that  if  the  shooter  holds  his  breath                too  long  in  real  life,  the  aim  will  again  become  unsteady  as  his  body  reacts  to  not  having                fresh  oxygen. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10181</span><span sentence-index="10181" class="">  Another  improvement  to  this  algorithm  would  be  for  the  aim  to  become  unstable                after  the  left  mouse  button  is  pressed  for  some  amount  of  time.</span></span></p></a><p><a id="I_programlisting4_id347306"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10184</span><span sentence-index="10184" class="">Many  games  also  change  the  accuracy  of  a  weapon  depending  on  body  position. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">334</span><span sentence-index="10185" class=""> There  are                three  basic  types  of  </span></span></a><a id="I_indexterm4_id347347" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10186</span><span sentence-index="10186" class="">shooting  positions:  standing,  kneeling,  and  prone. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">336</span><span sentence-index="10187" class=""> </span></span></a><a id="I_indexterm4_id347359" class="indexterm"></a><a id="I_indexterm4_id347365" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10189</span><span sentence-index="10189" class="">Standing  is&#x2014;you  guessed  it&#x2014;standing  up. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">339</span><span sentence-index="10190" class=""> </span></span></a><a id="I_indexterm4_id347373" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10191</span><span sentence-index="10191" class="">Kneeling  is  some  form  of  squatting  rather  than  just  kneeling  on  your  knees. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">341</span><span sentence-index="10192" class=""> </span></span></a><a id="I_indexterm4_id347380" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10193</span><span sentence-index="10193" class="">Prone  is  laid  flat  on  the  ground. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10194</span><span sentence-index="10194" class="">  Because  the  rifle  is  locked  to  your  body,  the                less  unstable  your  body  is,  the  less  unstable  the  aim. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10195</span><span sentence-index="10195" class="">  When  standing,  your  body&apos;s  muscles                have  to  do  a  lot  of  work  to  remain  upright. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10196</span><span sentence-index="10196" class="">  When  kneeling,  they  do  less  so,  and  when  prone,                your  muscles  don&apos;t  have  to  worry  about  keeping  you  standing  at  all.</span></span></a></p><p><a id="I_indexterm4_id347380" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10199</span><span sentence-index="10199" class="">You  can  add  these  parameters  as  random  twitches  in  the  aim  and  tune  them  to  change  the                relative  advantage  of  each  position. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">349</span><span sentence-index="10200" class=""> However,  prone  should  always  be  more  stable  than                kneeling,  and  kneeling  more  stable  than  </span></span></a><a id="I_indexterm4_id347397" class="indexterm"></a><a id="I_indexterm4_id347406" class="indexterm"></a><a id="I_indexterm4_id347416" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10203</span><span sentence-index="10203" class="">standing.</span></span></a></p></div></div><div class="sect1" title="Recoil and Impact"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="recoil_and_impact"><a id="I_indexterm4_id347416" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">355</span><span sentence-index="10206" class="">Recoil  and  Impact</span></span></a></h2></div></div></div><p><a id="I_indexterm4_id347416" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">357</span><span sentence-index="10208" class="">Now  that  </span></span></a><a id="I_indexterm4_id347437" class="indexterm"></a><a id="I_indexterm4_id347447" class="indexterm"></a><a id="I_indexterm4_id347457" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10211</span><span sentence-index="10211" class="">we&apos;ve  aimed,  fired,  and  figured  out  where  the  bullet  is  at  any  given  moment,  let&apos;s            talk  about  the  last  phase,  terminal  ballistics. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10212</span><span sentence-index="10212" class="">  To  really  understand  what  happens  at  the  end            of  a  bullet&apos;s  flight,  let&apos;s  revisit  the  beginning. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">362</span><span sentence-index="10213" class=""> Earlier  we  talked  about  recoil  as  the            result  of  Newton&apos;s  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">362</span><span sentence-index="10213" class="">conservation  of  momentum</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10213</span><span sentence-index="10213" class=""> . </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">363</span><span sentence-index="10214" class=""> </span></span></a><a id="I_indexterm4_id347470" class="indexterm"></a><a id="I_indexterm4_id347477" class="indexterm"></a><a id="I_indexterm4_id347487" class="indexterm"></a><a id="I_indexterm4_id347497" class="indexterm"></a><a id="I_indexterm4_id347507" class="indexterm"></a><a id="I_indexterm4_id347517" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10220</span><span sentence-index="10220" class="">Everyone  has  seen  a  cheesy  movie  where  the  hero  shoots  the  bad  guy  and  the  bullets            cause  the  bad  guy  to  be  blown  off  his  feet. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10221</span><span sentence-index="10221" class="">  There  is  a  big  problem  with  this! </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10222</span><span sentence-index="10222" class="">  If  the  bullets            were  powerful  enough  to  knock  the  person  they  hit  off  his  feet,  then  the  person  shooting  the            gun  would  also  be  blown  off  his  feet! </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10223</span><span sentence-index="10223" class="">  In  reality,  the  force  felt  by  the  person  being  shot  is            nearly  the  same  as  the  force  felt  when  the  weapon  recoils. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10224</span><span sentence-index="10224" class="">  For  a  9  mm  bullet  weighing  7.45  g            and  leaving  the  barrel  at  390  m/s,  the  gun  will  experience  recoil  such  that  its  momentum  is            equal  to  the  moment  of  the  bullet.</span></span></a></p><p><a id="I_indexterm4_id347517" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10227</span><span sentence-index="10227" class="">One  interesting  way  to  incorporate  recoil  into  a  video  game  is  in  space. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">377</span><span sentence-index="10228" class=""> On  Earth,  a  gun&apos;s            recoil  is  pretty  quickly  transferred  to  the  ground  by  </span></span></a><a id="I_indexterm4_id347537" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10229</span><span sentence-index="10229" class="">friction  between  the  player  and  the  big  bad  earth. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10230</span><span sentence-index="10230" class="">  In  space,  the  shooter  has  no            planetary  body  to  push  against,  so  the  recoil  of  the  gun  becomes  the  recoil  of  the  gun/person            system. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10231</span><span sentence-index="10231" class="">  Next  time  your  character  needs  to  move  from  one  ship  to  another  in  a  micro-gravity            environment,  you  can  make  her  spend  some  ammo  to  get  herself  moving.</span></span></a></p><p><a id="I_indexterm4_id347537" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10234</span><span sentence-index="10234" class="">Now,  if  you  get  shot  you  will  probably  fall  down  pretty  quickly,  but  this  has  more  to  do            with  biology  than  physics. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">384</span><span sentence-index="10235" class=""> However,  ignoring  living  targets,  if  you  want  to  simulate  the            damage  done  by  a  bullet  hitting  something,  it  is  more  important  to  look  at  the  bullet&apos;s  </span></span></a><a id="I_indexterm4_id347558" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10236</span><span sentence-index="10236" class="">kinetic  energy. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">386</span><span sentence-index="10237" class=""> In  fact,  bullets  and  artillery  shells  are  </span></span></a><a id="I_indexterm4_id347571" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">387</span><span sentence-index="10238" class="">called  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">387</span><span sentence-index="10238" class="">kinetic  weapons</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10239</span><span sentence-index="10239" class=""> ,  as  their  primary  means  of  destroying            a  target  is  by  transferring  their  kinetic  energy  to  the  target. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10240</span><span sentence-index="10240" class="">  This  is  different  than,  say,  a            bomb  that  transfers  its  chemical  energy  into  heat  and  kinetic  energy  after  impact.</span></span></a></p></div><div class="sect1" title="Explosions"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="explosions"><a id="I_indexterm4_id347571" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">392</span><span sentence-index="10243" class="">Explosions</span></span></a></h2></div></div></div><p><a id="I_indexterm4_id347571" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">394</span><span sentence-index="10245" class="">Accurately  </span></span></a><a id="I_indexterm4_id347599" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">395</span><span sentence-index="10246" class="">modeling  explosions  involves  multiphysics  fluid  simulations  like  the  kind            discussed  in  </span></span></a><a class="xref" href="ch14.html" title="Chapter&#xA0;14.&#xA0;Physics Engines"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">397</span><span sentence-index="10248" class="">Chapter&#xA0;14</span></span></a><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">397</span><span sentence-index="10248" class=""> through  </span></span><a class="xref" href="ch16.html" title="Chapter&#xA0;16.&#xA0;Ships and Boats"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">398</span><span sentence-index="10249" class="">Chapter&#xA0;16</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10250</span><span sentence-index="10250" class=""> . </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10251</span><span sentence-index="10251" class="">  One            of  our  pet  peeves  is  that  video  games  usually  have  a  collection  of  barrels  lying  around  that,            if  shot  once,  explode  violently  enough  to  blow  up  nearby  vehicles. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10252</span><span sentence-index="10252" class="">  While  this  makes  for  an            easy  out  against  multiple  enemies,  it  is  actually  pretty  hard  to  get  everyday  objects  to  blow            up. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10253</span><span sentence-index="10253" class="">  Shooting  a  gas  can  with  a  handgun  will  almost  never  result  in  a  fire,  much  less  an            explosion. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10254</span><span sentence-index="10254" class="">  Indeed,  even  shooting  a  propane  tank  with  a  rifle  won&apos;t  give  you  fireworks. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10255</span><span sentence-index="10255" class="">  It            would  take  something  like  a  tank  of  1/4  propane  mixed  with  3/4  oxygen  to  explode,  and  those            aren&apos;t  usually  lying  around. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10256</span><span sentence-index="10256" class="">  Regardless,  when  we  play  video  games  we&apos;re  often  thankful  that  we            have  an  occasional  red  barrel  to  shoot,  so  we&apos;ll  review  how  to  make  the  resulting  explosion            more  accurate  even  if  the  ignition  is  improbable.</span></span></p><div class="sect2" title="Particle Explosions"><div class="titlepage"><div><div><h3 class="title" id="particle_explosions"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">407</span><span sentence-index="10258" class="">Particle  Explosions</span></span></h3></div></div></div><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">408</span><span sentence-index="10259" class="">For  most  in-game  explosions,  </span></span><a id="pk18.4.1" class="indexterm"></a><a id="bf18.4.1" class="indexterm"></a><a id="ex18.4.1" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">411</span><span sentence-index="10262" class="">it  will  be  sufficient  to  implement  a  particle-type  explosion  that  we  covered  way                back  in  </span></span></a><a class="xref" href="ch02.html" title="Chapter&#xA0;2.&#xA0;Kinematics"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">412</span><span sentence-index="10263" class="">Chapter&#xA0;2</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10264</span><span sentence-index="10264" class=""> . </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">414</span><span sentence-index="10265" class=""> Now,  in  </span></span><a class="xref" href="ch02.html" title="Chapter&#xA0;2.&#xA0;Kinematics"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">415</span><span sentence-index="10266" class="">Chapter&#xA0;2</span></span></a><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">415</span><span sentence-index="10266" class=""> the  particles                were  simply  dots,  </span></span><a id="exk18.4.1" class="indexterm"></a><a id="ki18.4.1" class="indexterm"></a><a id="pe18.4.1" class="indexterm"></a><a id="pr18.4.1" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10271</span><span sentence-index="10271" class="">but  they  don&apos;t  have  to  be  limited  to  such  simple  sprites. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10272</span><span sentence-index="10272" class="">  In  some  cases,  such  as                sparks  from  a  bullet  hitting  a  metal  container,  it  would  be  very  accurate  to  model                explosions  as  particles;  however,  by  making  our  particles  look  like  bits  of  cars,  we  can                also  make  it  appear  that  the  car  itself  exploded. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">422</span><span sentence-index="10273" class=""> The  reason  this  is  easier  is  because  the                particle  explosions  don&apos;t  have  any  </span></span></a><a id="I_indexterm4_id347760" class="indexterm"></a><a id="I_indexterm4_id347770" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10275</span><span sentence-index="10275" class="">angular  motion. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10276</span><span sentence-index="10276" class="">  Although  you  can  assign  different  parts  of  the  cars  to  different                particles,  when  they  fly  off  due  to  the  explosion,  they  won&apos;t  be  rotating. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10277</span><span sentence-index="10277" class="">  The  good  news  is                that  a  particle  explosion  will  still  give  you  a  realistic  distribution  of  fragments  of                something  on  the  ground.</span></span></a></p><p><a id="I_indexterm4_id347770" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10280</span><span sentence-index="10280" class="">To  talk  about  how  to  link  bullets  and  particle  explosions  in  detail,  we&apos;ll  consider                something  more  physically  accurate  than  a  bullet  blowing  up  a  car. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10281</span><span sentence-index="10281" class="">  Let&apos;s  consider  a  bullet                hitting  some  loose  gravel. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10282</span><span sentence-index="10282" class="">  This  will  generally  cause  the  gravel  to  be  thrown  up  into  the  air                from  the  bullet  collision. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">432</span><span sentence-index="10283" class=""> Instead  of  trying  to  calculate  the  complex  collisions  during                impact,  we&apos;ll  generate  a  particle  explosion  based  on  the  code  in  </span></span></a><a class="xref" href="ch02.html" title="Chapter&#xA0;2.&#xA0;Kinematics"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">433</span><span sentence-index="10284" class="">Chapter&#xA0;2</span></span></a><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">433</span><span sentence-index="10284" class="">:</span></span></p><a id="I_programlisting4_id347796"><pre class="programlisting">void CreateParticleExplosion(int x, int y, int Vinit, int life,
                             float gravity, float angle)
{
     int   i;
     int   m;
     float f;

     Explosion.Active = TRUE;
     Explosion.x = x;
     Explosion.y = y;
     Explosion.V0 = Vinit;

     for(i=0; i&lt;_MAXPARTICLES; i++)
     {
          Explosion.p[i].x = 0;
          Explosion.p[i].y = 0;
          Explosion.p[i].vi = tb_Rnd(Vinit/2, Vinit);

          if(angle &lt; 999)
          {
               if(tb_Rnd(0,1) == 0)
                    m = &#x2212;1;
               else
                    m = 1;
               Explosion.p[i].angle = -angle + m * tb_Rnd(0,10);
          } else
               Explosion.p[i].angle = tb_Rnd(0,360);

          f = (float) tb_Rnd(80, 100) / 100.0f;
          Explosion.p[i].life = tb_Round(life * f);
          Explosion.p[i].r = 255;//tb_Rnd(225, 255);
          Explosion.p[i].g = 255;//tb_Rnd(85, 115);
          Explosion.p[i].b = 255;//tb_Rnd(15, 45);
          Explosion.p[i].time = 0;
          Explosion.p[i].Active = TRUE;
          Explosion.p[i].gravity = gravity;
     }

}</pre></a><p><a id="I_programlisting4_id347796"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">437</span><span sentence-index="10288" class="">As  you  can  see,  the  initial  velocity  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">437</span><span sentence-index="10288" class="">V0</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10288</span><span sentence-index="10288" class="">  controls  the                strength  of  the  explosion. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">438</span><span sentence-index="10289" class=""> In  </span></span></a><a class="xref" href="ch02.html" title="Chapter&#xA0;2.&#xA0;Kinematics"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">439</span><span sentence-index="10290" class="">Chapter&#xA0;2</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10291</span><span sentence-index="10291" class=""> ,  we  chose  this  value  randomly. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10292</span><span sentence-index="10292" class="">                Now  that  we  have  a  bullet  flying  through  the  air,  we  can  make  a  better  estimate  of  how                strong  of  an  explosion  to  create. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">442</span><span sentence-index="10293" class=""> As  you  recall  from  earlier  in  the  chapter,  a  bullet  has  an                energy  associated  with  it  at  any  time,  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">442</span><span sentence-index="10293" class="">t</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10293</span><span sentence-index="10293" class=""> ,  in  its  flight. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10294</span><span sentence-index="10294" class="">                This  energy  is  its  kinetic  energy  and  is  equal  to  half  the  bullet  mass  times  its  velocity                squared.</span></span></p><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10296</span><span sentence-index="10296" class="">In  our  projectile  simulation,  it  is  simple  to  calculate  this  energy  as  the  bullet  flies                through  the  air. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10297</span><span sentence-index="10297" class="">  It  should  be  noted  that  a  big  bullet  moving  slowly  is  just  as  powerful  as  a                smaller  bullet  moving  quickly. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10298</span><span sentence-index="10298" class="">  Our  upcoming  code  is  going  to  assume  that  100%  of  the  kinetic                energy  is  delivered  to  the  target. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10299</span><span sentence-index="10299" class="">  This  would  not  be  true  if  a  bullet  shot  straight  through                something. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10300</span><span sentence-index="10300" class="">  A  way  to  visualize  this  is  to  imagine  two  targets,  both  hanging  from  the  ceiling. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10301</span><span sentence-index="10301" class="">                One  is  made  from  paper  and  one  is  made  from  steel. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10302</span><span sentence-index="10302" class="">  When  shot  at,  the  steel  target  swings                from  its  support,  while  the  paper  target  stays  still. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10303</span><span sentence-index="10303" class="">  This  is  because  the  bullet  is  passing                straight  though  the  paper  and  not  transferring  its  kinetic  energy  to  the  target. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">453</span><span sentence-index="10304" class=""> To  make                things  simple,  we&apos;ll  transfer  all  of  the  bullet&apos;s  kinetic  energy  </span></span><a id="kib18.4.1" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10305</span><span sentence-index="10305" class="">to  the  gravel. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">455</span><span sentence-index="10306" class=""> In  equation  form,  this  would  look  like:</span></span></a></p><table style="border: 0; " class="simplelist"><tbody><tr><td><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">455</span><span sentence-index="10306" class="">1/2  m</span></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">455</span><span sentence-index="10306" class="">b</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">455</span><span sentence-index="10306" class="">                       v</span></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">455</span><span>2</span></span></sup><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">455</span><span sentence-index="10306" class="">bullet</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">455</span><span sentence-index="10306" class=""> =  &#x3A3;1/2                        m</span></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">455</span><span sentence-index="10306" class="">g</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">455</span><span sentence-index="10306" class="">                   v</span></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">455</span><span sentence-index="10306" class="">2</span></span></sup><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">455</span><span sentence-index="10306" class="">gravel</span></span></sub></td></tr></tbody></table><p><a id="kib18.4.1" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10308</span><span sentence-index="10308" class="">Note  that  this  is  the  sum  of  the  individual  bits  of  gravel&apos;s  velocities. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">458</span><span sentence-index="10309" class=""> In,  </span></span></a><a class="xref" href="ch02.html" title="Chapter&#xA0;2.&#xA0;Kinematics"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">459</span><span sentence-index="10310" class="">Chapter&#xA0;2</span></span></a><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">459</span><span sentence-index="10310" class="">,  each  particle  was  just  given  a  random  velocity  anywhere  from                    </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">459</span><span sentence-index="10310" class="">Vinit/2</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">459</span><span sentence-index="10310" class=""> to  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">459</span><span sentence-index="10310" class="">Vinit</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10311</span><span sentence-index="10311" class=""> . </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10312</span><span sentence-index="10312" class="">                This  could  lead  to  creating  a  set  of  particles  whose  energies  exceed  the  input  energy. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">462</span><span sentence-index="10313" class=""> To                prevent  this,  we&apos;ll  add  a  variable  to  our  explosion  class  like  so:</span></span></p><a id="I_programlisting4_id347913"><pre class="programlisting">typedef     struct _TParticle
{
     float          x;              // x-coordinate of the particle
     float          y;              // y-coordinate of the particle
     float          vi;             // initial velocity
     float          angle;          // initial trajectory (direction)
     int            life;           // duration in milliseconds
     int            r;              // red component of particle&apos;s color
     int            g;              // green component of particle&apos;s color
     int            b;              // blue component of particle&apos;s color
     int            time;           // keeps track of the effect&apos;s time
     float          gravity;        // gravity factor
     BOOL           Active;         // indicates whether this particle
                                    // is active or dead
     <span class="strong"><strong>float          mass;           //for calculating the particle&apos;s energy</strong></span>
} TParticle;

#define     _MAXPARTICLES 50
<span class="strong"><strong>#define    _MASSOFPARTICLE .25</strong></span>

typedef struct _TParticleExplosion
{
     TParticle          p[_MAXPARTICLES];  // list of particles
                                           // making up this effect
     int           x;  // initial x location
     int           y;  // initial y location
     float         KE;  //Available kinect energy
     float
     BOOL          Active;      // indicates whether this effect is
                                //active or dead
} TParticleExplosion;</pre><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">464</span><span sentence-index="10315" class="">Notice  that  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">464</span><span sentence-index="10315" class="">V0</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10315</span><span sentence-index="10315" class="">  is  no  longer  required,  as  the                available  kinetic  energy  will  govern  the  strength  of  the  explosion. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">465</span><span sentence-index="10316" class=""> Assuming  that  the                bullet&apos;s  kinetic  energy  is  given  as  a  variable  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">465</span><span sentence-index="10316" class="">KEb</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">465</span><span sentence-index="10316" class="">,  our                new  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">465</span><span sentence-index="10316" class="">CreateParticleExplosion</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">465</span><span sentence-index="10316" class=""> function  would  look  like  the                following:</span></span></p></a><a id="I_programlisting4_id347965"><pre class="programlisting">void CreateParticleExplosion(int x, int y, int KEb, int life,
                             float gravity, float angle)
{
     int     i;
     int     m;
     float   f;

     Explosion.Active = TRUE;
     Explosion.x = x;
     Explosion.y = y;
     <span class="strong"><strong>Explosion.KE = KEb;</strong></span>

     for(i=0; i&lt;_MAXPARTICLES; i++)
     {
          Explosion.p[i].x = 0;
          Explosion.p[i].y = 0;
          Explosion.p[i].m = _MASSOFPARTICLE; //Mass of a single gravel
          <span class="strong"><strong>Explosion.p[i].vi = tb_Rnd(0, sqrt(Explosion.KE/(_MASSOFPARTICLE*               _MAXPARTICLES));</strong></span>
          <span class="strong"><strong>Explosion.KE = Explosion.KE - ((1/2)*(Explosion.p[i].m)*                        (Explosion.p[i].vi));</strong></span>

          if(angle &lt; 999)
          {
               if(tb_Rnd(0,1) == 0)
                    m = &#x2212;1;
               else
                    m = 1;
               Explosion.p[i].angle = -angle + m * tb_Rnd(0,10);
          } else
               Explosion.p[i].angle = tb_Rnd(0,360);

          f = (float) tb_Rnd(80, 100) / 100.0f;
          Explosion.p[i].life = tb_Round(life * f);
          Explosion.p[i].r = 255;//tb_Rnd(225, 255);
          Explosion.p[i].g = 255;//tb_Rnd(85, 115);
          Explosion.p[i].b = 255;//tb_Rnd(15, 45);
          Explosion.p[i].time = 0;
          Explosion.p[i].Active = TRUE;
          Explosion.p[i].gravity = gravity;
     }

}</pre><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10318</span><span sentence-index="10318" class="">As  you  can  see,  we&apos;ve  altered  the  statements  that  set  the  initial  velocity  of  the                particles  to  be  a  random-number  generator  in  a  range  anywhere  from  0  to  a  velocity  that                would  consume  the  entire  explosion&apos;s  kinetic  energy. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10319</span><span sentence-index="10319" class="">  The  next  line  reduces  the  available                kinetic  energy  in  the  explosion  by  the  amount  just  assigned  to  the  particle. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10320</span><span sentence-index="10320" class="">  This  way,  you                can  be  sure  that  the  outgoing  explosion  is  never  more  powerful  then  the  input. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10321</span><span sentence-index="10321" class="">  A  more                interesting  way  to  handle  this  would  be  to  first  initialize  the  particles  with  some  given                mass  distribution  and  to  assign  the  velocities  not  randomly,  but  with  a  normal  distribution. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10322</span><span sentence-index="10322" class="">                Numerical  recipes  in  C  can  help  you  accomplish  this.</span></span></p></a><p><a id="I_programlisting4_id347965"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10325</span><span sentence-index="10325" class="">Even  though  the  preceding  code  does  not  take  into  account  some  of  the  more  subtle                aspects  of  the  transfer  of  kinetic  energy,  it  will  ensure  that  a  small,  slow-moving  bullet                produces  a  smaller  explosion  than  a  big,  fast-moving  one. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">475</span><span sentence-index="10326" class=""> This  is  something  that  is  lacking                in  today&apos;s  video  </span></span></a><a id="I_indexterm4_id348014" class="indexterm"></a><a id="I_indexterm4_id348024" class="indexterm"></a><a id="I_indexterm4_id348033" class="indexterm"></a><a id="I_indexterm4_id348042" class="indexterm"></a><a id="I_indexterm4_id348052" class="indexterm"></a><a id="I_indexterm4_id348061" class="indexterm"></a><a id="I_indexterm4_id348070" class="indexterm"></a><a id="I_indexterm4_id348080" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10334</span><span sentence-index="10334" class="">games.</span></span></a></p></div><div class="sect2" title="Polygon Explosions"><div class="titlepage"><div><div><h3 class="title" id="polygon_explosions"><a id="I_indexterm4_id348080" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">486</span><span sentence-index="10337" class="">Polygon  Explosions</span></span></a></h3></div></div></div><p><a id="I_indexterm4_id348080" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">488</span><span sentence-index="10339" class="">While  particle  </span></span></a><a id="ex18.4.2" class="indexterm"></a><a id="po18.4.2" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10341</span><span sentence-index="10341" class="">explosions  are  appropriate  for  small,  uniform  objects,  they  fail  to  give                appropriate  realism  when  something  is  blown  into  identifiable  chunks. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10342</span><span sentence-index="10342" class="">  This  is  why  in  video                games  you  rarely  see  a  car  explode  and  the  door  fly  away  to  land  next  to  you. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10343</span><span sentence-index="10343" class="">  Instead,  games                usually  handle  objects  like  this  with  a  particle  explosion  that  obscures  the  object  while  it                is  re-rendered  in  its  now-exploded  state  with  the  missing  pieces  having  been  apparently                blown  to  smithereens.</span></span></a></p><p><a id="po18.4.2" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10346</span><span sentence-index="10346" class="">If  you  do  want  to  model  a  full  explosion  of  solid  bodies,  you  can  reuse  the  particle                code  for  the  translation  aspects. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10347</span><span sentence-index="10347" class="">  Essentially  the  particles  will  now  describe  the  center  of                gravity  of  each  solid  body. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">497</span><span sentence-index="10348" class=""> You  will  have  to  add  in  an  initial  angular  velocity  and  let  the                simulation,  as  described  in  </span></span></a><a class="xref" href="ch12.html" title="Chapter&#xA0;12.&#xA0;3D Rigid-Body Simulator"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">498</span><span sentence-index="10349" class="">Chapter&#xA0;12</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10350</span><span sentence-index="10350" class=""> ,  handle  their                motion  after  that  initial  angle.</span></span></p><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10352</span><span sentence-index="10352" class="">While  we  don&apos;t  have  room  to  go  over  another  example  here,  we&apos;ll  talk  a  little  about  the                input  energy  to  such  an  explosion  to  help  you  bridge  the  gap. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10353</span><span sentence-index="10353" class="">  While  we  are  on  that  subject,                let&apos;s  recall  that  a  bullet  just  doesn&apos;t  have  the  energy  required  to  blow  something  apart. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10354</span><span sentence-index="10354" class="">                Even  when  you  hit  something  with  a  tank-mounted  gun,  it  really  isn&apos;t  the  kinetic  energy  of                the  bullet  that  blows  apart  the  thing  you  hit,  but  some  secondary  explosion. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10355</span><span sentence-index="10355" class="">  In  the  case  of                a  tank  hitting  another  tank,  the  molten  slag  from  the  impact  is  usually  peppered  all  over                the  inside  of  the  tank,  causing  the  fuel  or  ammunition  to  explode. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10356</span><span sentence-index="10356" class="">  That  is  where  you  get  the                big  booms&#x2014;it&apos;s  the  conversion  of  chemical  energy  to  heat,  light,  and  pressure!</span></span></p><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">507</span><span sentence-index="10358" class="">The  most  common  method  of  quantifying  the  chemical  energy  in  weapons  is  </span></span><a id="I_indexterm4_id348160" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">508</span><span sentence-index="10359" class="">called  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">508</span><span sentence-index="10359" class="">TNT  equivalency</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10360</span><span sentence-index="10360" class=""> . </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10361</span><span sentence-index="10361" class="">  This  is  how  much  TNT  it  would  take                to  cause  the  same  explosion  regardless  of  what  you  are  actually  exploding. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10362</span><span sentence-index="10362" class="">  Now,  explosion                modeling  of,  say,  gasoline  and  air  is  pretty  complex,  so  let&apos;s  stick  with  TNT. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10363</span><span sentence-index="10363" class="">  A  kilogram  of                TNT  contains  4.184  Mega  joules  of  energy;  a  9  mm  round  has  400  J.  You  can  see  from  that                comparison  why  it  is  hard  to  blow  something  up  by  shooting  at  it,  but  easy  to  do  with  a                block  of  TNT.</span></span></a></p><p><a id="I_indexterm4_id348160" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10366</span><span sentence-index="10366" class="">For  the  purposes  of  this  discussion,  let&apos;s  say  you  have  an  open  box  (five  polygon  sides)                into  which  your  player  just  tossed  a  1  kg  block  of  TNT. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10367</span><span sentence-index="10367" class="">  When  the  TNT  is  detonated,  you  can                give  each  polygon  side  an  initial  velocity  (translational  and  angular)  and  let  the  kinematic                equations  take  over. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10368</span><span sentence-index="10368" class="">  Those  velocities  can  be  based  on  two  simple  rules.</span></span></a></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><a id="I_indexterm4_id348160" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10371</span><span sentence-index="10371" class="">The  velocity  vector  can  be  defined  by  two  points:  the  center  of  the  block  of  TNT  and                        the  center  of  area  of  the  polygon.</span></span></a></p></li><li class="listitem"><p><a id="I_indexterm4_id348160" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10374</span><span sentence-index="10374" class="">The  sum  of  all  the  kinetic  energy  must  be  less  than  the  available  chemical  energy  in                        the  TNT. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10375</span><span sentence-index="10375" class="">  This  can  be  prorated  by  the  square  of  the  distance  from  the  polygon  to  the                        block  of  TNT.</span></span></a></p></li></ul></div><p><a id="I_indexterm4_id348160" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10378</span><span sentence-index="10378" class="">The  use  of  the  center  of  area  in  our  first  rule  will  impart  some  rotation  into  our                polygon,  as  it  will  cause  a  moment  about  the  center  of  gravity  unless  the  two  coincide. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10379</span><span sentence-index="10379" class="">  If                this  is  the  case,  as  it  would  be  for  our  box,  aerodynamic  drag  and  unevenness  of  the                explosion  will  still  cause  rotation,  so  you  should  either  model  these  explicitly  or  impart                some  rotational  velocity  manually.</span></span></a></p><p><a id="I_indexterm4_id348160" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">531</span><span sentence-index="10382" class="">Now  that  we  have  a  velocity  direction,  we  need  to  define  its  </span></span></a><a id="I_indexterm4_id348214" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10383</span><span sentence-index="10383" class="">magnitude. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10384</span><span sentence-index="10384" class="">  The  force  on  objects  near  an  explosion  is  caused  by  the  rapid                expansion  of  gasses  due  to  the  heat  generated  by  the  detonation  of  the  explosive. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10385</span><span sentence-index="10385" class="">  However,                not  all  the  chemical  energy  is  transferred  to  the  objects&#x2014;a  lot  of  it  is  converted  into                heat,  light,  and  sound. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10386</span><span sentence-index="10386" class="">  Typically,  only  one-third  of  the  available  chemical  energy  is                converted  in  the  initial  detonation. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10387</span><span sentence-index="10387" class="">  Let&apos;s  call  this  the  efficiency  of  the  explosion,  which                we&apos;ll  denote  by  &#x3B6;. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">537</span><span sentence-index="10388" class=""> Therefore,  we  can  write  the  relationship  between  velocities  of  the                polygons  as  follows:</span></span></a></p><div class="informalequation"><div class="mediaobject"><a id="I_indexterm4_id348214" class="indexterm"><img src="eq_1801.png" alt="Polygon Explosions"></a></div></div><p><a id="I_indexterm4_id348214" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10391</span><span sentence-index="10391" class="">Here,  we  can  tune  &#x3B6;  to  give  the  polygons  realistic  velocities  in  the  event  of  an                explosion  (i.e.,  not  sending  them  off  at  the  speed  of  light). </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10392</span><span sentence-index="10392" class="">  If  the  energy  from  the                explosion  is  divided  up  equally,  you  can  see  that  lighter  objects  will  have  higher                velocities,  as  you  might  expect. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10393</span><span sentence-index="10393" class="">  You  can  also  adjust  the  amount  of  explosion  energy                available  to  each  object  by  weighting  the  object&apos;s  imparted  energy  by  its  distance  from  the                explosion. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10394</span><span sentence-index="10394" class="">  This  should  also  be  tuned  in  the  program,  but  in  general,  pressure  from  an                explosion  decreases  with  the  cube  of  distance  and  exponentially  with  time.</span></span></a></p><p><a id="I_indexterm4_id348214" class="indexterm"><span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10397</span><span sentence-index="10397" class="">If  you  want  to  model  more  complex  explosion-structure  interactions,  there  are  many  good                references  for  how,  say,  buildings,  react  to  bomb  blasts. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">547</span><span sentence-index="10398" class=""> FEMA,  as  well  as  the  Army  and                Navy,  have  several  papers  on  the  subject,  such  as  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">547</span><span sentence-index="10398" class="">FEMA  426  Reference  Manual  to                    Mitigate  Potential  Terrorist  Attacks  Against  Buildings</span></span></em></span><span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10398</span><span sentence-index="10398" class=""> . </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">548</span><span sentence-index="10399" class=""> The  general  concepts                laid  out  in  such  documents  can  increase  the  realism  of  the  building  damage  due  to  </span></span></a><a id="I_indexterm4_id348264" class="indexterm"></a><a id="I_indexterm4_id348273" class="indexterm"><span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">10401</span><span sentence-index="10401" class="">explosions.</span></span></a></p></div></div></section><a id="I_indexterm4_id348273" class="indexterm">
</a></body></html>