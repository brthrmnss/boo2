<!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><html><head><title>Chapter&#xA0;26.&#xA0;Sound</title><link rel="stylesheet" type="text/css" href="core.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="up" href="pt04.html" title="Part&#xA0;IV.&#xA0;Digital Physics"><link rel="prev" href="ch25.html" title="Chapter&#xA0;25.&#xA0;Optical Tracking"><link rel="next" href="apa.html" title="Appendix&#xA0;A.&#xA0;Vector Operations"></head><body>
         
        <script>
        function ok(){ 
            window.gggs()
            return;
            //$('#musicPlayer').parent().remove();
            //speakTransportPanelDialogV2.closeEmoteDialog()
            //speakTransportPanelDialog.closeEmoteDialog()
            //
            debugger
            let url = 'http://127.0.0.1:8080/uploads/extracted/' +
             'Crazy Rich Asians  Kevin Kwanepub/' +
              'jsonSets/OEBPS/Kwan_9780385536981_epub_prl_r1.htm.html.sentences.json'
            speakTransportPanelDialogV2.sideLoadSentences2(null, null, null, url)
            
        }
        setTimeout(ok, 1500)
        </script>
        <div style="background:white">````````</div><section class="chapter" title="Chapter&#xA0;26.&#xA0;Sound" epub:type="chapter" id="sound"><div class="titlepage"><div><div><h2 class="title"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">1</span><span sentence-index="13595" class="highlight2">Chapter&#xA0;26.&#xA0;Sound</span></span></h2></div></div></div><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">2</span><span sentence-index="13596" class="highlight3">In  this  chapter  we&apos;ll  explore  </span></span><a id="so26.0" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13597</span><span sentence-index="13597" class="highlight4">some  basic  physics  of  sound  and  how  you  can  capture  3D  sound  effects  in  games. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">4</span><span sentence-index="13598" class="highlight2"> We&apos;ll        refer  to  the  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">4</span><span sentence-index="13598" class="highlight3">OpenAL</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13598</span><span sentence-index="13598" class="highlight4">  audio  API  for  some  code  examples,  but  the  physics  we        discuss  is  independent  of  any  particular  API. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13599</span><span sentence-index="13599" class="highlight2">  If  you&apos;re  new  to  OpenAL,  it&apos;s  basically  OpenGL  for        audio. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">6</span><span sentence-index="13600" class="highlight3"> </span></span></a><a id="I_indexterm7_id362948" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13601</span><span sentence-index="13601" class="highlight4">OpenAL  uses  some  very  easy-to-understand  abstractions  for  creating  sound  effects  and        handles  all  the  mixing,  filters,  and  3D  synthesis  for  you. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">8</span><span sentence-index="13602" class="highlight2"> You  basically  create  sound            </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">8</span><span sentence-index="13602" class="highlight3">sources</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">8</span><span sentence-index="13602" class="highlight4">,  associate  those  sources  with  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">8</span><span sentence-index="13602" class="highlight2">buffers</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13602</span><span sentence-index="13602" class="highlight3">  that        store  the  sound  data,  and  then  manipulate  those  sources  by  positioning  them  and  setting  their        velocity  (among  other  properties). </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">9</span><span sentence-index="13603" class="highlight4"> You  can  have  multiple  sources,  of  course,  but  there&apos;s  only        one  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">9</span><span sentence-index="13603" class="highlight2">listener</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13603</span><span sentence-index="13603" class="highlight3"> . </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13604</span><span sentence-index="13604" class="highlight4">  You  do  have  to  set  properties  of  the  listener,  such  as  the        listener&apos;s  position  and  velocity,  in  order  to  properly  simulate  3D  sound. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13605</span><span sentence-index="13605" class="highlight2">  We&apos;ll  talk  more  about        these  things  throughout  the  chapter.</span></span></a></p><div class="sect1" title="What Is Sound?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="what_is_sound_question"><a id="I_indexterm7_id362948" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13608</span><span sentence-index="13608" class="highlight3">What  Is  Sound?</span></span></a></h2></div></div></div><p><a id="I_indexterm7_id362948" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13611</span><span sentence-index="13611" class="highlight4">If  you  look  up  the  definition  of  sound  online,  you&apos;ll  get  answers        like  sound  is  a  vibration;  a  sensation  perceived  by  our  brains  through        stimulation  of  organs  in  our  inner  ear;  and  a  density  or  pressure        fluctuation,  or  wave,  traveling  through  a  medium. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13612</span><span sentence-index="13612" class="highlight2">  So  which  is  it? </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13613</span><span sentence-index="13613" class="highlight3">  Well,        it&apos;s  all  of  them,  and  the  interpretation  you  use  depends  on  the  context  in        which  you&apos;re  examining  sound. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13614</span><span sentence-index="13614" class="highlight4">  For  example,  noise  control  engineers  aiming        to  minimize  noise  on  ships  focus  on  vibrations  propagating  through  the        ship&apos;s  structure,  while  medical  doctors  worry  more  about  the  biomechanics        of  our  inner  ear  and  how  our  brains  interpret  the  sensations  picked  up  by        our  ears,  and  physicists  take  a  fundamental  look  at  density  and  pressure        fluctuations  through  compressible  materials  and  how  these  waves  interact        with  each  other  and  the  environment. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13615</span><span sentence-index="13615" class="highlight2">  We  don&apos;t  mean  to  suggest  that  each  of        these  disciplines  views  sound  only  in  a  single  way  or  context,  but  what        we&apos;re  saying  is  that  each  discipline  often  has  its  own  perspective,        priorities,  and  standard  language  for  the  subject. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13616</span><span sentence-index="13616" class="highlight3">  To  us,  in  the  context        of  games,  sound  is  what  the  player  hears  through  his  speakers  or        headphones  that  helps  to  create  an  immersive  gaming  environment. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13617</span><span sentence-index="13617" class="highlight4">  However,        in  order  to  create  realistic  sounds  that  lend  themselves  to  creating  an        immersive  environment,  complimenting  immersive  visuals  and  in-game        behaviors,  we  need  to  understand  the  physics  of  sound,  how  we  perceive  it,        and  what  sound  tells  us  about  its  source  and  the  environment.</span></span></a></p><p><a id="I_indexterm7_id362948" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13620</span><span sentence-index="13620" class="highlight2">Given  that  this  is  a  book  on  game  physics,  we&apos;re  going  to  take  a        fundamental  view  of  sound,  which  is  that  sound  is  what  our  brain  perceives        as  our  ears  sense  density  and  pressure  fluctuations  in  the  air  surrounding        us. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">27</span><span sentence-index="13621" class="highlight3"> These  density  and  pressure  fluctuations  are  waves,  and  as  such  we&apos;ll        refer  to  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">27</span><span sentence-index="13621" class="highlight4">sound  waves</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13621</span><span sentence-index="13621" class="highlight2"> . </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13622</span><span sentence-index="13622" class="highlight3">  Let&apos;s  take  a  closer        look.</span></span></a></p><p><a id="I_indexterm7_id362948" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13625</span><span sentence-index="13625" class="highlight4">If  a  compressible  medium  experiences  a  pressure  change&#x2014;say,  due  to  a        driven  piston&#x2014;its  volume  will  change  and  thus  its  density  will  change. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13626</span><span sentence-index="13626" class="highlight2">  In        the  case  of  a  driven  piston,  the  region  directly  in  front  of  the  piston        will  experience  the  compression  first,  resulting  in  a  region  of  increased        density  and  increased  pressure. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">33</span><span sentence-index="13627" class="highlight3"> This  is  called</span></span></a><a id="I_indexterm7_id363018" class="indexterm"> <span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">34</span><span sentence-index="13628" class="highlight4">condensation</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13629</span><span sentence-index="13629" class="highlight2"> . </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13630</span><span sentence-index="13630" class="highlight3">  For  sound,  you  can  think        of  that  piston  as  the  cone  of  a  loudspeaker. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">37</span><span sentence-index="13631" class="highlight4"> That  region  of  increased        </span></span></a><a id="I_indexterm7_id363031" class="indexterm"></a><a id="I_indexterm7_id363040" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13633</span><span sentence-index="13633" class="highlight2">density  and  pressure  will  propagate  through  the  medium,        traveling  at  the  speed  of  sound  in  that  given  medium. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">40</span><span sentence-index="13634" class="highlight3"> </span></span></a><a class="xref" href="ch26.html#driven_piston_and_loudspeaker_analogue" title="Figure&#xA0;26-1.&#xA0;Driven piston and loudspeaker analogue"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">41</span><span sentence-index="13635" class="highlight4">Figure&#xA0;26-1</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13636</span><span sentence-index="13636" class="highlight2">  illustrates  this        concept.</span></span></p><div class="figure"><a id="driven_piston_and_loudspeaker_analogue"></a><div class="figure-contents"><a id="driven_piston_and_loudspeaker_analogue"></a><div class="mediaobject"><a id="driven_piston_and_loudspeaker_analogue"></a><a id="I_mediaobject7_id363070"><img src="httpatomoreillycomsourceoreillyimages1599021.png" alt="Driven piston and loudspeaker analogue"></a></div></div><div class="figure-title"><a id="I_mediaobject7_id363070"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">48</span><span sentence-index="13642" class="highlight3">Figure&#xA0;26-1.&#xA0;Driven  piston  and  loudspeaker  analogue</span></span></a></div></div><p><a class="xref" href="ch26.html#driven_piston_and_loudspeaker_analogue" title="Figure&#xA0;26-1.&#xA0;Driven piston and loudspeaker analogue"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">50</span><span sentence-index="13644" class="highlight4">Figure&#xA0;26-1</span></span></a><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">50</span><span sentence-index="13644" class="highlight2">(a)        illustrates  the  driven  piston  concept,  while  </span></span><a class="xref" href="ch26.html#driven_piston_and_loudspeaker_analogue" title="Figure&#xA0;26-1.&#xA0;Driven piston and loudspeaker analogue"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">51</span><span sentence-index="13645" class="highlight3">Figure&#xA0;26-1</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13646</span><span sentence-index="13646" class="highlight4"> (b)  illustrates  the        loudspeaker  analogue. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13647</span><span sentence-index="13647" class="highlight2">  As  the  piston  or  cone  displaces  fluid  (say,  air),        causing  compression,  and  then  withdraws,  a  single  high-pressure  region        followed  by  a  low-pressure  region  will  be  created. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">54</span><span sentence-index="13648" class="highlight3"> The  low-pressure  region        resulting  from  withdrawal  of  the  piston  is  called</span></span><a id="I_indexterm7_id363103" class="indexterm"> <span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">55</span><span sentence-index="13649" class="highlight4">rarefaction</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13650</span><span sentence-index="13650" class="highlight2"> . </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">57</span><span sentence-index="13651" class="highlight3"> That  resulting  solitary        wave  of  pressure  will  head  off  through  the  air  to  the  right  in  </span></span></a><a class="xref" href="ch26.html#driven_piston_and_loudspeaker_analogue" title="Figure&#xA0;26-1.&#xA0;Driven piston and loudspeaker analogue"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">58</span><span sentence-index="13652" class="highlight4">Figure&#xA0;26-1</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13653</span><span sentence-index="13653" class="highlight2">  at  the  speed        corresponding  to  the  speed  of  sound  in  air. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">60</span><span sentence-index="13654" class="highlight3"> If  the  piston,  or  speaker        cone,  pulses  back  and  forth,  as  illustrated  in  </span></span><a class="xref" href="ch26.html#sound_wave" title="Figure&#xA0;26-2.&#xA0;Sound wave"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">61</span><span sentence-index="13655" class="highlight4">Figure&#xA0;26-2</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13656</span><span sentence-index="13656" class="highlight2"> ,  a  series  of  these  high-/low-pressure  regions  will        be  created,  resulting  in  a  continuous  series  of  waves&#x2014;a  sound        wave&#x2014;propagating  to  the  right.</span></span></p><div class="figure"><a id="sound_wave"></a><div class="figure-contents"><a id="sound_wave"></a><div class="mediaobject"><a id="sound_wave"></a><a id="I_mediaobject7_id363137"><img src="httpatomoreillycomsourceoreillyimages1599022.png" alt="Sound wave"></a></div></div><div class="figure-title"><a id="I_mediaobject7_id363137"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">68</span><span sentence-index="13662" class="highlight3">Figure&#xA0;26-2.&#xA0;Sound  wave</span></span></a></div></div><p><a id="I_mediaobject7_id363137"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">70</span><span sentence-index="13664" class="highlight4">The  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">70</span><span sentence-index="13664" class="highlight2">wavelength</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13664</span><span sentence-index="13664" class="highlight3">  of  this  sound  wave  (i.e.,  the        distance  measured  from  pressure  peak  to  pressure  peak)  is  a  function  of        the  frequency  of  pulsation,  or  vibration,  of  the  cone. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">71</span><span sentence-index="13665" class="highlight4"> The  resulting  sound        wave&apos;s  frequency  is  related  to  the  inverse  of  its  wavelength&#x2014;that  is,        </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">71</span><span sentence-index="13665" class="highlight2">f</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13665</span><span sentence-index="13665" class="highlight3">  =  1/&#x3BB;. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">72</span><span sentence-index="13666" class="highlight4"> The  pressure  amplitude  versus  time  waveform        for  this  scenario  is  illustrated  in  </span></span></a><a class="xref" href="ch26.html#sound_wave" title="Figure&#xA0;26-2.&#xA0;Sound wave"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">73</span><span sentence-index="13667" class="highlight2">Figure&#xA0;26-2</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13668</span><span sentence-index="13668" class="highlight3"> . </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">75</span><span sentence-index="13669" class="highlight4"> We&apos;ve        illustrated  the  pressure  wave  as  a  </span></span><a id="I_indexterm7_id363173" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13670</span><span sentence-index="13670" class="highlight2">harmonic  sine  wave,  which  need  not  be  the  case  in  reality        since  the  sound  coming  from  a  speaker  could  be  composed  of  an  aggregate  of        many  different  wave  components. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13671</span><span sentence-index="13671" class="highlight3">  We&apos;ll  say  more  on  this  later.</span></span></a></p><p><a id="I_indexterm7_id363173" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13674</span><span sentence-index="13674" class="highlight4">One  thing  we  do  want  to  point  out  is  that  a  sound  wave  is  a        longitudinal  wave  and  not  a  transverse  wave  like  an  ocean  wave,  for        example. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13675</span><span sentence-index="13675" class="highlight2">  In  a  transverse  wave,  the  displacement  of  the  medium  due  to  the        wave  is  perpendicular  to  the  direction  of  travel  of  the  wave. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13676</span><span sentence-index="13676" class="highlight3">  In  a        longitudinal  wave,  the  displacement  is  along  the  direction  of  travel  of        the  wave. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13677</span><span sentence-index="13677" class="highlight4">  The  higher  density  and  pressure  regions  of  a  sound  wave  are  due        to  compression  of  the  medium  along  the  direction  of  travel  of  the  wave. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13678</span><span sentence-index="13678" class="highlight2">        Thus,  sound  waves  are  longitudinal  waves.</span></span></a></p><p><a id="I_indexterm7_id363173" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13681</span><span sentence-index="13681" class="highlight3">So,  sound  waves  are  variations  in  density  and  pressure  moving        through  a  medium. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13682</span><span sentence-index="13682" class="highlight4">  But  how  do  we  hear  them? </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13683</span><span sentence-index="13683" class="highlight2">  In  essence  the  pressure  wave,        created  by  some  mechanical  vibration  like  that  of  a  speaker  cone,  gets        converted  back  to  a  vibration  in  our  inner  ear. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13684</span><span sentence-index="13684" class="highlight3">  And  that  vibration  gets        interpreted  by  our  brains  as  sound&#x2014;the  sound  we  hear. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">91</span><span sentence-index="13685" class="highlight4"> </span></span></a><a class="xref" href="ch26.html#illustration_of_how_we_hear" title="Figure&#xA0;26-3.&#xA0;Illustration of how we hear"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">92</span><span sentence-index="13686" class="highlight2">Figure&#xA0;26-3</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13687</span><span sentence-index="13687" class="highlight3">  illustrates  this  concept.</span></span></p><div class="figure"><a id="illustration_of_how_we_hear"></a><div class="figure-contents"><a id="illustration_of_how_we_hear"></a><div class="mediaobject"><a id="illustration_of_how_we_hear"></a><a id="I_mediaobject7_id363213"><img src="httpatomoreillycomsourceoreillyimages1599023.png" alt="Illustration of how we hear"></a></div></div><div class="figure-title"><a id="I_mediaobject7_id363213"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">99</span><span sentence-index="13693" class="highlight4">Figure&#xA0;26-3.&#xA0;Illustration  of  how  we  hear</span></span></a></div></div><p><a id="I_mediaobject7_id363213"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13695</span><span sentence-index="13695" class="highlight2">Our  outer  ears  help  capture  and  direct  pressure  waves  into  our  ear        canals. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13696</span><span sentence-index="13696" class="highlight3">  These  pressure  waves  travel  down  the  ear  canal,  impinging  on  the        eardrum,  which  causes  the  eardrum  to  vibrate. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13697</span><span sentence-index="13697" class="highlight4">  This  is  where  the  pressure        variations  get  converted  back  to  mechanical  vibration. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13698</span><span sentence-index="13698" class="highlight2">  Beyond  the  eardrum,        biology  and  chemistry  work  their  magic  to  convert  those  vibrations  into        electrical  impulses  that  our  brains  interpret  as  sound.</span></span></a></p><p><a id="I_mediaobject7_id363213"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">107</span><span sentence-index="13701" class="highlight3">Our  ears  are  sensitive  enough  to  detect  pressure  </span></span></a><a id="I_indexterm7_id363241" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">108</span><span sentence-index="13702" class="highlight4">waves  in  the  20  to  20,000  hertz  (Hz)  </span></span></a><a id="I_indexterm7_id363255" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13704</span><span sentence-index="13704" class="highlight2">frequency  range. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13705</span><span sentence-index="13705" class="highlight3">  (A  hertz  is  one  cycle  per  second.)  We  interpret  frequency  as            pitch. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13706</span><span sentence-index="13706" class="highlight4">  High-pitch  sounds  (think  tweeters)  correspond  to  high  frequencies,  and  low-pitch  sounds            (think  bass)  correspond  to  low  frequencies.</span></span></a></p><p><a id="I_indexterm7_id363255" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">115</span><span sentence-index="13709" class="highlight2">Aside  from  </span></span></a><a id="I_indexterm7_id363271" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13710</span><span sentence-index="13710" class="highlight3">pitch,  an  obvious  characteristic  of  sound  that  we  perceive        is  its  loudness. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">117</span><span sentence-index="13711" class="highlight4"> Loudness  </span></span></a><a id="I_indexterm7_id363286" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13712</span><span sentence-index="13712" class="highlight2">is  related  to  the  amplitude  of  the  pressure  wave,  among        other  factors  such  as  duration. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13713</span><span sentence-index="13713" class="highlight3">  We  often  think  of  loudness  in  terms  of        volume,  or  power,  or  intensity. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13714</span><span sentence-index="13714" class="highlight4">  All  these  characteristics  are  related,  and        we  can  write  various  formulas  relating  these  characteristics  to  other        features  of  the  sound  wave. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">121</span><span sentence-index="13715" class="highlight2"> Sound  waves  have  </span></span></a><a id="I_indexterm7_id363296" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13716</span><span sentence-index="13716" class="highlight3">kinetic  energy,  which  is  related  to  the  mass  of  the  medium        disturbed  by  the  pressure  wave  and  the  speed  at  which  that  mass  is        disturbed. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">123</span><span sentence-index="13717" class="highlight4"> Power  </span></span></a><a id="I_indexterm7_id363310" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13718</span><span sentence-index="13718" class="highlight2">is  the  time  rate  of  change  of  energy  transference. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13719</span><span sentence-index="13719" class="highlight3">  And        intensity  is  related  to  how  much  power  flows  through  a  given  area. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13720</span><span sentence-index="13720" class="highlight4">  The        bottom  line  is  that  the  more  power  a  sound  has,  or  the  more  intense  it  is,        the  louder  it  seems  to  you,  the  listener. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13721</span><span sentence-index="13721" class="highlight2">  At  some  point,  a  sound  can  be  so        intense  as  to  cause  discomfort  or  pain.</span></span></a></p><p><a id="I_indexterm7_id363310" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13724</span><span sentence-index="13724" class="highlight3">Customarily,  intensity  is  measured  in  units  of  decibels. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">131</span><span sentence-index="13725" class="highlight4"> A  decibel        represents  the  </span></span></a><a id="I_indexterm7_id363330" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13726</span><span sentence-index="13726" class="highlight2">intensity  of  a  sound  relative  to  some  standard  reference,        which  is  usually  taken  as  the  sound  intensity  corresponding  to  the        threshold  of  hearing. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13727</span><span sentence-index="13727" class="highlight3">  Zero  decibels,  or  0  dB,  corresponds  to  the  threshold        of  hearing. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13728</span><span sentence-index="13728" class="highlight4">  The  intensity  is  so  low  you  can&apos;t  hear  it. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13729</span><span sentence-index="13729" class="highlight2">  When  sounds  reach        about  120&#x2013;130  dB,  they  start  to  cause  pain. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">136</span><span sentence-index="13730" class="highlight3"> </span></span></a><a class="xref" href="ch26.html#typical_sound_intensities" title="Table&#xA0;26-1.&#xA0;Typical sound intensities"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">137</span><span sentence-index="13731" class="highlight4">Table&#xA0;26-1</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13732</span><span sentence-index="13732" class="highlight2">  lists  some  typical  intensity  values        for  common  sounds.</span></span></p><div class="table"><a id="typical_sound_intensities"><div class="table-title"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">140</span><span sentence-index="13734" class="highlight3">Table&#xA0;26-1.&#xA0;Typical  sound  intensities</span></span></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="col1"><col class="col2"></colgroup><thead><tr><td style="text-align: left; vertical-align: bottom; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">141</span><span sentence-index="13735" class="highlight4">Sound</span></span></p></td><td style="text-align: left; vertical-align: bottom; border-bottom: 0.5pt solid ; "><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">142</span><span sentence-index="13736" class="highlight2">Typical                        intensity</span></span></p></td></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">143</span><span sentence-index="13737" class="highlight3">Jet  airplane,  fairly                        close</span></span></p></td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; "><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">144</span><span sentence-index="13738" class="highlight4">150  dB</span></span></p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">145</span><span sentence-index="13739" class="highlight2 nonQuoteStr">Gun  shot</span></span></p></td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; "><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">146</span><span sentence-index="13740" class="highlight3 nonQuoteStr">160  to  180  dB  depending  on                        the  gun</span></span></p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">147</span><span sentence-index="13741" class="highlight4 nonQuoteStr">Crying  baby</span></span></p></td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; "><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">148</span><span sentence-index="13742" class="highlight2 nonQuoteStr">130  dB                        (painful!)</span></span></p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">149</span><span sentence-index="13743" class="highlight3 nonQuoteStr">Loud  scream</span></span></p></td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; "><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">150</span><span sentence-index="13744" class="highlight4">Up  to  128  dB  (world  record                        set  in  1988)</span></span></p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">151</span><span sentence-index="13745" class="highlight2">Typical                        conversation</span></span></p></td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; "><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">152</span><span sentence-index="13746" class="highlight3">50  to  60  dB</span></span></p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; "><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">153</span><span sentence-index="13747" class="highlight4">Whisper</span></span></p></td><td style="text-align: left; vertical-align: top; "><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">154</span><span sentence-index="13748" class="highlight2">About  10  dB</span></span></p></td></tr></tbody></table></div></a></div><p><a id="typical_sound_intensities"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">156</span><span sentence-index="13750" class="highlight3">The  intensity  values  shown  in  </span></span></a><a class="xref" href="ch26.html#typical_sound_intensities" title="Table&#xA0;26-1.&#xA0;Typical sound intensities"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">157</span><span sentence-index="13751" class="highlight4">Table&#xA0;26-1</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13752</span><span sentence-index="13752" class="highlight2">  are  typical  and  surely  there&apos;s  wide        variation  in  those  levels  depending  on,  for  example,  the  type  of  aircraft,        or  the  person  you&apos;re  talking  to,  or  the  softness  of  the  person&apos;s  voice        whispering  to  you. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13753</span><span sentence-index="13753" class="highlight3">  It&apos;s  common  sense,  but  if  you&apos;re  writing  a  game  you&apos;ll        want  to  reflect  some  level  of  realism  in  the  intensity  of  various  sound        effects  in  your  game.</span></span></p><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13755</span><span sentence-index="13755" class="highlight4">Now,  intensity  is  actually  a  logarithmic  scale. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13756</span><span sentence-index="13756" class="highlight2">  It  is  generally        accepted  that  a  sound  measured  10  dB  higher  than  another  is  considered        twice  as  loud. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13757</span><span sentence-index="13757" class="highlight3">  This  is  perceived  loudness. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13758</span><span sentence-index="13758" class="highlight4">  Thus,  a  crying  baby  is  way  more        than  twice  as  loud  as  a  normal  conversation. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">165</span><span sentence-index="13759" class="highlight2"> Parents  </span></span><a id="I_indexterm7_id363562" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13760</span><span sentence-index="13760" class="highlight3">already  know  that.</span></span></a></p></div><div class="sect1" title="Characteristics of and Behavior of Sound Waves"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="characteristics_of_and_behavior_of_sound"><a id="I_indexterm7_id363562" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">169</span><span sentence-index="13763" class="highlight4">Characteristics  of  and  Behavior  of  Sound  Waves</span></span></a></h2></div></div></div><p><a id="I_indexterm7_id363562" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">171</span><span sentence-index="13765" class="highlight2">Now  that  we&apos;ve  </span></span></a><a id="so26.2" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">172</span><span sentence-index="13766" class="highlight3">established  what  sound  is,  we&apos;re  going  to  generally  refer  to        </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">172</span><span sentence-index="13766" class="highlight4">sound  waves</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13767</span><span sentence-index="13767" class="highlight2">  throughout  the  remainder  of  this  chapter. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13768</span><span sentence-index="13768" class="highlight3">        Remember,  sound  waves  are  pressure  waves  that  get  interpreted  by  our        brains  as  sound. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13769</span><span sentence-index="13769" class="highlight4">  The  bottom  line  is  that  we&apos;re  dealing  with  waves,        longitudinal  waves. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13770</span><span sentence-index="13770" class="highlight2">  Therefore,  we  can  use  principles  of  wave  mechanics  to        describe  sound  waves. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13771</span><span sentence-index="13771" class="highlight3">  Furthermore,  since  sound  waves  (think  pressure        waves)  displace  real  mass,  they  can  interact  with  the  environment. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13772</span><span sentence-index="13772" class="highlight4">  We        already  know  that  pressure  waves  interact  with  our  eardrums  to  trigger        some  biochemical  action,  causing  our  brains  to  interpret  sound. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13773</span><span sentence-index="13773" class="highlight2">        Conversely,  the  environment  can  interact  with  the  pressure  wave  to  alter        its  characteristics.</span></span></a></p><div class="sect2" title="Harmonic Wave"><div class="titlepage"><div><div><h3 class="title" id="harmonic_wave"><a id="so26.2" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">182</span><span sentence-index="13776" class="highlight3">Harmonic  Wave</span></span></a></h3></div></div></div><p><a id="so26.2" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">184</span><span sentence-index="13778" class="highlight4">Let&apos;s  consider  a  one-dimensional  </span></span></a><a id="I_indexterm7_id363626" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">185</span><span sentence-index="13779" class="highlight2">harmonic  pressure  wave&#x2014;one  that  could  be  created  by  the            driven  piston  shown  in  </span></span></a><a class="xref" href="ch26.html#driven_piston_and_loudspeaker_analogue" title="Figure&#xA0;26-1.&#xA0;Driven piston and loudspeaker analogue"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">187</span><span sentence-index="13781" class="highlight3">Figure&#xA0;26-1</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13781</span><span sentence-index="13781" class="highlight4"> (a). </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13782</span><span sentence-index="13782" class="highlight2">  Let  the            x-direction  correspond  to  distance,  positive  from  left  to  right. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">189</span><span sentence-index="13783" class="highlight3"> Thus,            the  wave  of  </span></span><a class="xref" href="ch26.html#driven_piston_and_loudspeaker_analogue" title="Figure&#xA0;26-1.&#xA0;Driven piston and loudspeaker analogue"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">190</span><span sentence-index="13784" class="highlight4">Figure&#xA0;26-1</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13785</span><span sentence-index="13785" class="highlight2"> (a)            travels  in  the  positive  x-direction. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">192</span><span sentence-index="13786" class="highlight3"> Let  &#x394;</span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">192</span><span sentence-index="13786" class="highlight4">P</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13786</span><span sentence-index="13786" class="highlight2">            represent  the  change  in  pressure  from  the  ambient  pressure  at  any  given            time. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">193</span><span sentence-index="13787" class="highlight3"> Let  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">193</span><span sentence-index="13787" class="highlight4">A</span></span></em></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">193</span><span sentence-index="13787" class="highlight2">P</span></span></sub><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13787</span><span sentence-index="13787" class="highlight3">  represent  the            amplitude  of  the  pressure  wave. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13788</span><span sentence-index="13788" class="highlight4">  Remember,  the  pressure  will  vary  by  some            amount  greater  than  the  ambient  pressure  when  condensation  occurs  to            some  amount  lower  than  ambient  pressure  when  rarefaction  occurs. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">195</span><span sentence-index="13789" class="highlight2"> The            range  in  peak  pressures  relative  to  ambient  is            </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">195</span><span sentence-index="13789" class="highlight3">&#x2212;A</span></span></em></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">195</span><span>P</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">195</span><span sentence-index="13789" class="highlight2"> to            +</span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">195</span><span sentence-index="13789" class="highlight3">A</span></span></em></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">195</span><span sentence-index="13789" class="highlight4">P</span></span></sub><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13789</span><span sentence-index="13789" class="highlight4"> . </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">196</span><span sentence-index="13790" class="highlight2"> Assuming  a  harmonic            wave,  we  can  write:</span></span></p><table style="border: 0; " class="simplelist"><tbody><tr><td><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">196</span><span sentence-index="13790" class="highlight3">&#x394;P  =  A</span></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">196</span><span sentence-index="13790" class="highlight4">P</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">196</span><span sentence-index="13790" class="highlight2"> sin(kx  &#x2013;  &#x3C9;t  &#x2013;  &#x3C6;)</span></span></td></tr></tbody></table><p><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">197</span><span sentence-index="13791" class="highlight3">k</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13791</span><span sentence-index="13791" class="highlight4">  is  called  the  wave  number  and  is  equal  to            2&#x3C0;/&#x3BB;,  where  &#x3BB;  is  the  wave  length. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">198</span><span sentence-index="13792" class="highlight2"> </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">198</span><span sentence-index="13792" class="highlight3">x</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">198</span><span sentence-index="13792" class="highlight4"> is  the            coordinate  representing  the  position  under  consideration.  &#x3C9;  is  called            angular,  or  circular,  frequency  and  is  equal  to            2&#x3C0;</span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">198</span><span>f</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">198</span><span sentence-index="13792" class="highlight3">,  where  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">198</span><span sentence-index="13792" class="highlight2">f</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13792</span><span sentence-index="13792" class="highlight4">  is  the  frequency            of  the  sound  wave. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">199</span><span sentence-index="13793" class="highlight2"> </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">199</span><span sentence-index="13793" class="highlight3">t</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13793</span><span sentence-index="13793" class="highlight4">  represents  time. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13794</span><span sentence-index="13794" class="highlight2">  Finally,  &#x3C6;  is            called  the  phase  angle,  also  known  as  the  phase  shift. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13795</span><span sentence-index="13795" class="highlight3">  It  represents  an            offset  of  the  wave  along  the  x-axis  in  this  case.</span></span></p><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">203</span><span sentence-index="13797" class="highlight4">With  this  equation,  we  can  plot  what  &#x394;</span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">203</span><span sentence-index="13797" class="highlight2">P</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13797</span><span sentence-index="13797" class="highlight3">  at  a            particular  x-location  as  a  function  of  time. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">204</span><span sentence-index="13798" class="highlight4"> </span></span><a class="xref" href="ch26.html#harmonic_wave-id1" title="Figure&#xA0;26-4.&#xA0;Harmonic wave"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">205</span><span sentence-index="13799" class="highlight2">Figure&#xA0;26-4</span></span></a><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">205</span><span sentence-index="13799" class="highlight3"> illustrates  such  a  plot  assuming  that            </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">205</span><span sentence-index="13799" class="highlight4">A</span></span></em></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">205</span><span sentence-index="13799" class="highlight2">P</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">205</span><span sentence-index="13799" class="highlight3">,  &#x3BB;,  and            </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">205</span><span sentence-index="13799" class="highlight4">f</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13799</span><span sentence-index="13799" class="highlight2">  are  all  equal  to  1  and  &#x3C6;  is  equal  to  0.</span></span></p><div class="figure"><a id="harmonic_wave-id1"></a><div class="figure-contents"><a id="harmonic_wave-id1"></a><div class="mediaobject"><a id="harmonic_wave-id1"></a><a id="I_mediaobject7_id363739"><img src="httpatomoreillycomsourceoreillyimages1599024.png" alt="Harmonic wave"></a></div></div><div class="figure-title"><a id="I_mediaobject7_id363739"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">211</span><span sentence-index="13805" class="highlight3">Figure&#xA0;26-4.&#xA0;Harmonic  wave</span></span></a></div></div><p><a id="I_mediaobject7_id363739"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">213</span><span sentence-index="13807" class="highlight4">Physically,  if  you  were  to  measure  the  change  in  pressure  over            time  at  some  point,  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">213</span><span sentence-index="13807" class="highlight2">x</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">213</span><span sentence-index="13807" class="highlight3">,  the  plot  would  look  like            that  shown  in  </span></span></a><a class="xref" href="ch26.html#harmonic_wave-id1" title="Figure&#xA0;26-4.&#xA0;Harmonic wave"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">214</span><span sentence-index="13808" class="highlight4">Figure&#xA0;26-4</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13809</span><span sentence-index="13809" class="highlight2"> .</span></span></p></div><div class="sect2" title="Superposition"><div class="titlepage"><div><div><h3 class="title" id="superposition"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">217</span><span sentence-index="13811" class="highlight3">Superposition</span></span></h3></div></div></div><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">218</span><span sentence-index="13812" class="highlight4">In  general,  sound  waves  </span></span><a id="I_indexterm7_id363783" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">219</span><span sentence-index="13813" class="highlight2">don&apos;t  look  like  the  pure  harmonic  wave  shown  in  </span></span></a><a class="xref" href="ch26.html#harmonic_wave-id1" title="Figure&#xA0;26-4.&#xA0;Harmonic wave"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">221</span><span sentence-index="13815" class="highlight3">Figure&#xA0;26-4</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13815</span><span sentence-index="13815" class="highlight4">  unless  the  sound  is  a  pure  tone. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13816</span><span sentence-index="13816" class="highlight2">  A            non-pure  tone  will  have  other  wiggles  in  its  plot  resulting  from            components  at  other  frequencies  and  phases. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13817</span><span sentence-index="13817" class="highlight3">  Similarly,  if  you  record  the            sound  pressure  at  a  single  point  in  a  room,  for  example,  where  multiple            sound  sources  exist,  the  pressure  recording  at  the  point  in  question            will  not  correspond  to  the  sound  of  any  particular  sound  source. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13818</span><span sentence-index="13818" class="highlight4">            Instead,  the  recorded  pressure  time  history  will  be  some  combination  of            all  the  sources  present,  and  what  you  hear  is  some  combination  of  all            the  sound  sources.</span></span></p><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13820</span><span sentence-index="13820" class="highlight2">A  good  approximation  for  how  these  various  sound  components            combine  is  simply  to  sum  the  results  of  each  component  at  the  particular            point  in  question. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13821</span><span sentence-index="13821" class="highlight3">  This  is  the  principle  of  superposition.</span></span></p><p><a class="xref" href="ch26.html#ten_different_waves" title="Figure&#xA0;26-5.&#xA0;Ten different waves"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">230</span><span sentence-index="13824" class="highlight4">Figure&#xA0;26-5</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13824</span><span sentence-index="13824" class="highlight2">  shows  10  different            waveforms,  each  with  different  amplitudes,  frequencies,  and  phases. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13825</span><span sentence-index="13825" class="highlight3">  The            principle  of  superposition  says  that  we  can  add  all  these  waveforms  to            determine  the  combined  result.</span></span></p><div class="figure"><a id="ten_different_waves"></a><div class="figure-contents"><a id="ten_different_waves"></a><div class="mediaobject"><a id="ten_different_waves"></a><a id="I_mediaobject7_id363826"><img src="httpatomoreillycomsourceoreillyimages1599025.png" alt="Ten different waves"></a></div></div><div class="figure-title"><a id="I_mediaobject7_id363826"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">237</span><span sentence-index="13831" class="highlight4">Figure&#xA0;26-5.&#xA0;Ten  different  waves</span></span></a></div></div><p><a class="xref" href="ch26.html#resulting_wave" title="Figure&#xA0;26-6.&#xA0;Resulting wave"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">239</span><span sentence-index="13833" class="highlight2">Figure&#xA0;26-6</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13833</span><span sentence-index="13833" class="highlight3">  shows  the  resulting  wave. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13834</span><span sentence-index="13834" class="highlight4">  Note            that  the  individual  waves  are  added  algebraically. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13835</span><span sentence-index="13835" class="highlight2">  At  any  given  instant            in  time,  some  waves  produce  positive  pressure  changes,  while  others            produce  negative  pressure  changes. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13836</span><span sentence-index="13836" class="highlight3">  This  means  that  some  waves  add            together  to  make  bigger  pressure  changes,  but  it  also  means  that  some            can  add  together  to  make  smaller  pressure  changes. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13837</span><span sentence-index="13837" class="highlight4">  In  other  words,  waves            can  be  either  constructive  or  destructive. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13838</span><span sentence-index="13838" class="highlight2">  Some  waves  can  cancel  each            other  out  completely,  which  is  the  basis  for  noise  cancellation            technologies.</span></span></p><div class="figure"><a id="resulting_wave"></a><div class="figure-contents"><a id="resulting_wave"></a><div class="mediaobject"><a id="resulting_wave"></a><a id="I_mediaobject7_id363868"><img src="httpatomoreillycomsourceoreillyimages1599026.png" alt="Resulting wave"></a></div></div><div class="figure-title"><a id="I_mediaobject7_id363868"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">250</span><span sentence-index="13844" class="highlight3">Figure&#xA0;26-6.&#xA0;Resulting  wave</span></span></a></div></div></div><div class="sect2" title="Speed of Sound"><div class="titlepage"><div><div><h3 class="title" id="speed_of_sound"><a id="I_mediaobject7_id363868"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">252</span><span sentence-index="13846" class="highlight4">Speed  of  Sound</span></span></a></h3></div></div></div><p><a id="I_mediaobject7_id363868"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">254</span><span sentence-index="13848" class="highlight2">Sound  waves  </span></span></a><a id="I_indexterm7_id363899" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13849</span><span sentence-index="13849" class="highlight3">travel  through  a  medium  at  some  finite  speed,  which  is  a            function  of  that  medium&apos;s  elastic  and  inertial  properties. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13850</span><span sentence-index="13850" class="highlight4">  In  general,            sound  travels  faster  in  stiffer,  less  compressible  mediums  than  it  does            in  softer  or  more  compressible  mediums. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13851</span><span sentence-index="13851" class="highlight2">  For  example,  the  speed  of  sound            in  air  is  about  340  m/s,  depending  on  temperature,  moisture  content,  and            other  factors,  but  it&apos;s  about  1500  m/s  in  seawater. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13852</span><span sentence-index="13852" class="highlight3">  Water  is  a  lot  less            compressible  than  air. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13853</span><span sentence-index="13853" class="highlight4">  Taking  this  a  step  further,  the  speed  of  sound  in            a  solid  such  as  iron  is  about  5,100  m/s.</span></span></a></p><p><a id="I_indexterm7_id363899" class="indexterm"><span class="nonQuoteStr" gspkNameUnknown="D" gsIndex="1"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13856</span><span sentence-index="13856" class="highlight2">You  might  say,  </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13857</span><span sentence-index="13857" style="border-bottom: solid orange 4px;" class="highlight3" gspkNameUnknown="D" gsIndex="1"> &quot;So  what;  why  do  I  have  to  worry  about  the  speed  of            sound  in  my  game?&quot; </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13858</span><span sentence-index="13858" class="highlight4">  Well,  the  speed  at  which  sound  waves  travel  tells  us            something  about  the  sound  source,  and  you  can  leverage  those  cues  in            your  game  to  enhance  its  immersive  feel. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13859</span><span sentence-index="13859" class="highlight2">  Let&apos;s  say  an  enemy  unit  fires  a            gun  in  your  3D  shooter,  and  that  enemy  is  some  distance  from  your            player. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13860</span><span sentence-index="13860" class="highlight3">  The  player  should  see  the  muzzle  flash  before  she  hears  the            sound  of  the  gun  firing. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13861</span><span sentence-index="13861" class="highlight4">  This  delay  is  due  to  the  fact  that  light            travels  far  faster  than  sound. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13862</span><span sentence-index="13862" class="highlight2">  The  delay  between  seeing  the  muzzle  flash            and  hearing  the  shot  gives  the  player  some  sense  of  the  distance  from            which  the  enemy  is  firing.</span></span></a></p><p><a id="I_indexterm7_id363899" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13865</span><span sentence-index="13865" class="highlight3">With  respect  to  3D  sound  effects,  our  ears  hear  sounds  coming  from            an  oblique  direction  at  slightly  different  times  because  of  the            separation  distance  between  our  ears. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13866</span><span sentence-index="13866" class="highlight4">  That  time  lag,  albeit  very  short,            gives  us  some  cues  as  to  the  direction  from  which  the  sound  is  coming. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13867</span><span sentence-index="13867" class="highlight2">            We&apos;ll  say  more  on  this  later  on  this  chapter.</span></span></a></p><p><a id="I_indexterm7_id363899" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">276</span><span sentence-index="13870" class="highlight3">Additionally,  the  Doppler  effect</span></span></a><a id="I_indexterm7_id363937" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13871</span><span sentence-index="13871" class="highlight4"> ,  which  we&apos;ll  discuss  later,  is  also  a  function  of  the            speed  of  sound.</span></span></a></p><p><a id="I_indexterm7_id363937" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">280</span><span sentence-index="13874" class="highlight2">In  OpenAL  you  </span></span></a><a id="I_indexterm7_id363948" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">281</span><span sentence-index="13875" class="highlight3">set  the  desired  sound  speed  using  the  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">281</span><span sentence-index="13875" class="highlight4">alSpeedOfSound</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13876</span><span sentence-index="13876" class="highlight2">  function,  passing  a  single            floating-point  argument  representing  the  sound  speed. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">283</span><span sentence-index="13877" class="highlight3"> The  specified            value  is  saved  in  </span></span></a><a id="I_indexterm7_id363966" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">284</span><span sentence-index="13878" class="highlight4">the  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">284</span><span sentence-index="13878" class="highlight2">AL_SPEED_OF_SOUND</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13879</span><span sentence-index="13879" class="highlight3">            property. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13880</span><span sentence-index="13880" class="highlight4">  The  default  value  is  343.3,  which  is  the  speed  of  sound  in  air            at  20&#xB0;C  expressed  in  m/s.</span></span></a></p></div><div class="sect2" title="Attenuation"><div class="titlepage"><div><div><h3 class="title" id="attenuation"><a id="I_indexterm7_id363966" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">289</span><span sentence-index="13883" class="highlight2">Attenuation</span></span></a></h3></div></div></div><p><a id="I_indexterm7_id363966" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">291</span><span sentence-index="13885" class="highlight3">Attenuation  is  the  </span></span></a><a id="I_indexterm7_id363997" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13886</span><span sentence-index="13886" class="highlight4">falloff  in  intensity  of  a  sound  over  distance. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13887</span><span sentence-index="13887" class="highlight2">  Earlier  we            explained  that  sound  intensity  is  related  to  how  much  power  flows            through  a  given  area. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">294</span><span sentence-index="13888" class="highlight3"> Imagine  a  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">294</span><span sentence-index="13888" class="highlight4">point  sound  source</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">294</span><span sentence-index="13888" class="highlight2">,            which  </span></span></a><a id="I_indexterm7_id364010" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13889</span><span sentence-index="13889" class="highlight3">creates  spherical  pressure  waves  that  propagate  radially            from  the  source. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">296</span><span sentence-index="13890" class="highlight4"> </span></span></a><a class="xref" href="ch26.html#spherical_sound_waves" title="Figure&#xA0;26-7.&#xA0;Spherical sound waves"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">297</span><span sentence-index="13891" class="highlight2">Figure&#xA0;26-7</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13892</span><span sentence-index="13892" class="highlight3">  illustrates            this  concept.</span></span></p><div class="figure"><a id="spherical_sound_waves"></a><div class="figure-contents"><a id="spherical_sound_waves"></a><div class="mediaobject"><a id="spherical_sound_waves"></a><a id="I_mediaobject7_id364034"><img src="httpatomoreillycomsourceoreillyimages1599027.png" alt="Spherical sound waves"></a></div></div><div class="figure-title"><a id="I_mediaobject7_id364034"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">304</span><span sentence-index="13898" class="highlight4">Figure&#xA0;26-7.&#xA0;Spherical  sound  waves</span></span></a></div></div><p><a id="I_mediaobject7_id364034"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">306</span><span sentence-index="13900" class="highlight2">Assuming  the  sound  is  being  generated  with  a  constant  power,  you            can  see  that  the  area  through  which  that  power  flows  grows  with            increasing  distance,  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">306</span><span sentence-index="13900" class="highlight3">r</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13900</span><span sentence-index="13900" class="highlight4"> ,  from  the  source. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">307</span><span sentence-index="13901" class="highlight4"> Intensity            is  equal  to  power  divided  by  area,  thus  the  intensity  at  radius            </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">307</span><span>r</span></span></em></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">307</span><span>4</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">307</span><span sentence-index="13901" class="highlight3"> is  less  than  that  at,            say,  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">307</span><span>r</span></span></em></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">307</span><span sentence-index="13901" class="highlight2">1</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">307</span><span sentence-index="13901" class="highlight4"> because  the  surface            area  at  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">307</span><span sentence-index="13901" class="highlight2">r</span></span></em></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">307</span><span sentence-index="13901" class="highlight3">4</span></span></sub><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13901</span><span sentence-index="13901" class="highlight2">  is  larger. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">308</span><span sentence-index="13902" class="highlight4"> The            surface  area  of  a  sphere  is            4&#x3C0;</span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">308</span><span sentence-index="13902" class="highlight2">r</span></span></em></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">308</span><span sentence-index="13902" class="highlight3">2</span></span></sup><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13902</span><span sentence-index="13902" class="highlight3"> . </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">309</span><span sentence-index="13903" class="highlight2"> Without  going  into            all  the  details,  we  can  state  that  the  amplitude  of  the  spherical  sound            wave  is  inversely  proportional  to            </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">309</span><span sentence-index="13903" class="highlight3">r</span></span></em></span><sup><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">309</span><span sentence-index="13903" class="highlight4">2</span></span></sup><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13903</span><span sentence-index="13903" class="highlight4"> .</span></span></a></p><p><a id="I_mediaobject7_id364034"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13906</span><span sentence-index="13906" class="highlight2">This  is  an  ideal  treatment  so  far. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13907</span><span sentence-index="13907" class="highlight3">  In  reality  attenuation  is  also            a  function  of  other  factors,  including  the  scattering  and  absorption  of            the  sound  wave  as  it  interacts  with  the  medium  and  the  environment. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13908</span><span sentence-index="13908" class="highlight4">  You            can  model  attenuation  in  many  ways,  taking  into  account  various  levels            of  detail  at  increasing  computational  expense. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13909</span><span sentence-index="13909" class="highlight2">  However,  for  games,            relatively  simple  distance-based  models  are  sufficient.</span></span></a></p><p><a id="I_mediaobject7_id364034"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13912</span><span sentence-index="13912" class="highlight3">Attenuation  provides  another  cue  that  tells  us  something  about  the            sound  source. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13913</span><span sentence-index="13913" class="highlight4">  In  your  game,  you  wouldn&apos;t  want  the  intensity,  or  volume,            of  a  sound  generated  far  from  the  player  to  be  the  same  as  that  from  a            source  very  close  to  the  player. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13914</span><span sentence-index="13914" class="highlight2">  Attenuation  tells  the  player  something            about  the  distance  between  him  and  the  sound  source.</span></span></a></p><p><a id="I_mediaobject7_id364034"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13917</span><span sentence-index="13917" class="highlight3">OpenAL  includes  several  different  distance-based  models  from  which            you  can  choose. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">324</span><span sentence-index="13918" class="highlight4"> The  OpenAL  documentation  describes  the  particulars  of            each,  but  the  default  model  is  an  inverse  distance-based  model  where  the            </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">324</span><span sentence-index="13918" class="highlight2">gain</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13918</span><span sentence-index="13918" class="highlight3">  of  the  source  sound  is  adjusted  in  inverse            proportion  to  the  distance  from  the  sound  source. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13919</span><span sentence-index="13919" class="highlight4">  Gain  is  an            amplification  factor  applied  to  the  recorded  amplitude  of  the  sound            effect  you&apos;re  using.</span></span></a></p><p><a id="I_mediaobject7_id364034"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">328</span><span sentence-index="13922" class="highlight2">You  can  change  distance  models  in  OpenAL  </span></span></a><a id="I_indexterm7_id364124" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">329</span><span sentence-index="13923" class="highlight3">using  the  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">329</span><span sentence-index="13923" class="highlight4">alDistanceModel</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13924</span><span sentence-index="13924" class="highlight2">  function  (see  the  OpenAL            programmers  manual  for  valid  parameters).</span></span></a></p></div><div class="sect2" title="Reflection"><div class="titlepage"><div><div><h3 class="title" id="reflection"><a id="I_indexterm7_id364124" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">333</span><span sentence-index="13927" class="highlight3">Reflection</span></span></a></h3></div></div></div><p><a id="I_indexterm7_id364124" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">335</span><span sentence-index="13929" class="highlight4">When  sound  waves  </span></span></a><a id="I_indexterm7_id364155" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13930</span><span sentence-index="13930" class="highlight2">passing  through  one  medium  reach  another  medium  or  object,            such  as  a  wall,  part  of  the  original  sound  wave  is  reflected  off  the            object,  while  part  of  it  is  absorbed  by  (and  transmitted  through)  the            object. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13931</span><span sentence-index="13931" class="highlight3">  Depending  on  the  dispositions  of  the  sound  source  and  the            listener,  some  sound  waves  will  reach  the  listener  via  some  direct  path. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13932</span><span sentence-index="13932" class="highlight4">            Reflected  waves  may  also  reach  the  listener,  although  their  energy  may            have  been  reduced  after  their  interaction  with  whatever  they  bounced            off. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">339</span><span sentence-index="13933" class="highlight2"> </span></span></a><a class="xref" href="ch26.html#reflected_waves" title="Figure&#xA0;26-8.&#xA0;Reflected waves"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">340</span><span sentence-index="13934" class="highlight3">Figure&#xA0;26-8</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13935</span><span sentence-index="13935" class="highlight4">  illustrates  this  concept,  where            some  sound  waves  reach  the  listener  directly  and  others  reach  the            listener  after  having  been  reflected  from  walls.</span></span></p><div class="figure"><a id="reflected_waves"></a><div class="figure-contents"><a id="reflected_waves"></a><div class="mediaobject"><a id="reflected_waves"></a><a id="I_mediaobject7_id364185"><img src="httpatomoreillycomsourceoreillyimages1599028.png" alt="Reflected waves"></a></div></div><div class="figure-title"><a id="I_mediaobject7_id364185"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">347</span><span sentence-index="13941" class="highlight2">Figure&#xA0;26-8.&#xA0;Reflected  waves</span></span></a></div></div><p><a id="I_mediaobject7_id364185"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13943</span><span sentence-index="13943" class="highlight3">The  degree  to  which  sound  waves  are  reflected  has  to  do  with  the            characteristics  of  the  material  from  which  they  bounce. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13944</span><span sentence-index="13944" class="highlight4">  Smooth,  hard            surfaces  will  tend  to  reflect  more  of  the  sound  energy,  while  softer,            irregular  surfaces  will  tend  to  absorb  more  energy  and  scatter  the  waves            that  are  reflected. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13945</span><span sentence-index="13945" class="highlight2">  These  characteristics  lend  a  certain  quality  to  the            ultimate  sound  the  listener  hears. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13946</span><span sentence-index="13946" class="highlight3">  The  same  sound  played  in  a  tiled            bathroom  will  have  a  distinctly  different  quality  than  if  it  were  played            in  a  room  with  carpet,  drapes,  and  tapestries. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13947</span><span sentence-index="13947" class="highlight4">  In  the  bathroom  the  sound            may  sound  echoic,  while  in  the  carpeted  room  it  may  sound  muted. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13948</span><span sentence-index="13948" class="highlight2">            Somewhere  in  between  these  two  types  of  rooms,  the  sound  may            reverberate. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13949</span><span sentence-index="13949" class="highlight3">  Reverberation  is  a  perceived  prolonging  of  the  original            sound  due  to  reflections  of  the  sound  within  the  space.</span></span></a></p><p><a id="I_mediaobject7_id364185"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13952</span><span sentence-index="13952" class="highlight4">In  your  games,  it  would  be  prohibitively  expensive            (computationally  speaking)  to  try  to  model  various  sound  sources            interacting  with  all  the  walls  and  objects  in  any  given  space  within  the            game  in  real  time. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13953</span><span sentence-index="13953" class="highlight2">  Such  computations  are  possible  and  are  often  used  in            acoustic  engineering  and  noise  control  applications,  but  again,  it&apos;s  too            costly  for  a  game. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13954</span><span sentence-index="13954" class="highlight3">  What  you  can  do,  however,  is  mimic  the  reflective  or            reverberant  qualities  of  any  given  space  in  your  game  environment  by            adjusting  the  reverberation  of  your  sound  sources. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13955</span><span sentence-index="13955" class="highlight4">  One  approach  is  to            record  sound  effects  with  the  quality  you&apos;re  looking  for  to  represent            the  space  in  which  that  sound  effect  would  apply. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13956</span><span sentence-index="13956" class="highlight2">  For  example,  you  could            record  the  echoic  sound  of  dripping  water  in  a  stone  room  to  enhance  the            atmosphere  of  a  dungeon.</span></span></a></p><p><a id="I_mediaobject7_id364185"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">365</span><span sentence-index="13959" class="highlight3">Alternatively,  if  you&apos;re  using  a  system  such  as  </span></span></a><a id="I_indexterm7_id364228" class="indexterm"></a><a id="I_indexterm7_id364238" class="indexterm"></a><a id="I_indexterm7_id364247" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13962</span><span sentence-index="13962" class="highlight4">OpenAL  and  if  the  reverberation  special  effect  is            available  on  your  sound  card,  you  can  assign  certain  reverberation            characteristics  to  individual  sound  sources  to  mimic  specific            environments. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13963</span><span sentence-index="13963" class="highlight2">  This  sort  of  approach  falls  within  the  realm  of            environmental  modeling,  and  the  OpenAL  Effects  Extension  Guide  (part  of            the  OpenAL  documentation)  gives  some  pretty  good  tips  on  how  to  use  its            special  effects  extensions  for  environmental  modeling.</span></span></a></p></div><div class="sect2" title="Doppler Effect"><div class="titlepage"><div><div><h3 class="title" id="doppler_effect"><a id="I_indexterm7_id364247" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">372</span><span sentence-index="13966" class="highlight3">Doppler  Effect</span></span></a></h3></div></div></div><p><a id="I_indexterm7_id364247" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">374</span><span sentence-index="13968" class="highlight4">The  Doppler  effect</span></span></a><a id="I_indexterm7_id364272" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13969</span><span sentence-index="13969" class="highlight2">  results  when  there  is  a  relative  motion  between  a  sound            source  and  the  listener. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13970</span><span sentence-index="13970" class="highlight3">  It  manifests  itself  as  an  increase  in  frequency            when  the  source  and  listener  are  approaching  each  other,  and  a  decrease            in  frequency  when  the  source  and  listener  are  moving  away  from  each            other. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13971</span><span sentence-index="13971" class="highlight4">  For  example,  the  horn  of  an  approaching  train  seems  to  increase            in  pitch  as  it  gets  closer  but  seems  to  decrease  in  pitch  as  the  train            passes  and  moves  away. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13972</span><span sentence-index="13972" class="highlight2">  The  Doppler  effect  is  a  very  obvious  clue  as  to            the  relative  motion  of  a  sound  source  that  you  can  capture  in  your            games. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13973</span><span sentence-index="13973" class="highlight3">  For  example,  you  could  model  the  sound  of  a  speeding  car  with  a            Doppler  effect  complimenting  visual  cues  of  a  car  approaching  and            passing  by  a  player.</span></span></a></p><p><a id="I_indexterm7_id364272" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13976</span><span sentence-index="13976" class="highlight4">What&apos;s  happening  physically  is  that  the  encounter  frequency  of  the            sound  waves  relative  to  the  listener  is  augmented,  owing  to  the  relative            velocity. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13977</span><span sentence-index="13977" class="highlight2">  An  approaching  velocity  means  there  are  more  waves  encountered            by  the  listener  per  unit  of  time,  which  is  heard  as  a  higher  frequency            than  the  source  frequency. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13978</span><span sentence-index="13978" class="highlight3">  Conversely,  a  departing  velocity  means  there            are  fewer  waves  encountered  per  unit  of  time,  which  is  heard  as  a  lower            frequency. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">385</span><span sentence-index="13979" class="highlight4 nonQuoteStr"> Assuming  still  air,  the  increased  frequency  heard  when  the            sound  source  and  listener  are  approaching  each  other  is  given  by  the            relation:</span></span></a></p><table style="border: 0; " class="simplelist"><tbody><tr><td><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">385</span><span sentence-index="13979" class="highlight2 nonQuoteStr">f</span></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">385</span><span sentence-index="13979" class="highlight3 nonQuoteStr">h</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">385</span><span sentence-index="13979" class="highlight4 nonQuoteStr"> =  f  [(c  +                v</span></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">385</span><span sentence-index="13979" class="highlight2 nonQuoteStr">l</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">385</span><span sentence-index="13979" class="highlight3 nonQuoteStr">)/(c  +  v</span></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">385</span><span sentence-index="13979" class="highlight4 nonQuoteStr">s</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">385</span><span sentence-index="13979" class="highlight2 nonQuoteStr">)]</span></span></td></tr></tbody></table><p><a id="I_indexterm7_id364272" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">387</span><span sentence-index="13981" class="highlight3">where  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">387</span><span sentence-index="13981" class="highlight4">f</span></span></em></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">387</span><span sentence-index="13981" class="highlight2">h</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">387</span><span sentence-index="13981" class="highlight3"> is  the            frequency  heard  by  the  listener,  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">387</span><span sentence-index="13981" class="highlight4">c</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">387</span><span sentence-index="13981" class="highlight2"> is  the  speed  of            sound,  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">387</span><span>v</span></span></em></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">387</span><span sentence-index="13981" class="highlight4">l</span></span></sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">387</span><span sentence-index="13981" class="highlight2"> is  the  speed  of            the  listener,  and  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">387</span><span sentence-index="13981" class="highlight3">v</span></span></em></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">387</span><span sentence-index="13981" class="highlight3">s</span></span></sub><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13981</span><span sentence-index="13981" class="highlight4">  is  the            speed  of  the  source. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13982</span><span sentence-index="13982" class="highlight2">  This  equation  shows  that  the  frequency  heard  by  the            listener  is  increased  in  proportion  to  the  ratio  of  the  sum  of  the  speed            of  sound  plus  the  relative  speed  of  the  source  and  listener  to  the  speed            of  sound. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">389</span><span sentence-index="13983" class="highlight3"> If  the  source  and  listener  are  moving  away  from  each  other,            then  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">389</span><span sentence-index="13983" class="highlight4">v</span></span></em></span><sub><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">389</span><span sentence-index="13983" class="highlight2">r</span></span></sub><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13983</span><span sentence-index="13983" class="highlight3">  is  negative  and  the            frequency  heard  is  reduced.</span></span></a></p><p><a id="I_indexterm7_id364272" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13986</span><span sentence-index="13986" class="highlight4">For  your  game,  you  could  use  prerecorded  sounds  with  Doppler            effects  for  passing  cars  or  other  moving  sound  sources;  however,  you            won&apos;t  be  able  to  adjust  the  Doppler  effect  to  represent  the  actual            relative  speed  between  sound  source  and  listener  if  you&apos;re  simulating            the  object  to  which  the  sound  is  attached  using  the  techniques  discussed            in  this  book. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13987</span><span sentence-index="13987" class="highlight2">  Your  prerecorded  sound  is  fixed. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13988</span><span sentence-index="13988" class="highlight3">  It  may  work  just  fine,  by            the  way. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">395</span><span sentence-index="13989" class="highlight4"> That  said,  if  you&apos;re  using  an  audio  system  such  as  </span></span></a><a id="I_indexterm7_id364360" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13990</span><span sentence-index="13990" class="highlight2">OpenAL,  you  can  use  its  built-in  Doppler  effect            capabilities. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13991</span><span sentence-index="13991" class="highlight3">  Basically,  if  you&apos;re  simulating  an  object  that&apos;s            generating  a  sound,  you  update  its  sound  source  to  reflect  the  object&apos;s            velocity  while  at  the  same  time  updating  the  listener  object  to  reflect            the  player&apos;s  velocity. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13992</span><span sentence-index="13992" class="highlight4">  OpenAL  will  handle  the  rest  for  you. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">399</span><span sentence-index="13993" class="highlight2"> We&apos;ll  show  a            simple  example  of  this  in  the  next  </span></span></a><a id="I_indexterm7_id364374" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">13994</span><span sentence-index="13994" class="highlight3">section.</span></span></a></p></div></div><div class="sect1" title="3D Sound"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="d_sound"><a id="I_indexterm7_id364374" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">403</span><span sentence-index="13997" class="highlight4">3D  Sound</span></span></a></h2></div></div></div><p><a id="I_indexterm7_id364374" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">405</span><span sentence-index="13999" class="highlight2">At  one  time  </span></span></a><a id="so26.3" class="indexterm"></a><a id="th26.3" class="indexterm"><span class="nonQuoteStr" gsIndex="2"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14001</span><span sentence-index="14001" class="highlight3">not  so  long  ago,  </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14002</span><span sentence-index="14002" class="highlight4" gsIndex="2"> &quot;3D  sound&quot; </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14003</span><span sentence-index="14003" class="highlight2">  was  hyped  as  the  next  big  thing. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14004</span><span sentence-index="14004" class="highlight3">        There&apos;s  no  doubt  that  for  a  long  time,  game  sound  lagged  far  behind        graphics  capabilities. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14005</span><span sentence-index="14005" class="highlight4">  It&apos;s  also  true  that  good  3D  sound  can  compliment        good  visuals,  helping  to  create  a  more  immersive  gaming  environment. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14006</span><span sentence-index="14006" class="highlight2">        Unfortunately,  a  lot  of  early  3D  sound  just  wasn&apos;t  that  good. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14007</span><span sentence-index="14007" class="highlight3">  Things  are        getting  better,  though,  and  with  the  use  of  headphones  and  a  good  sound        card,  some  amazing  3D  sounds  can  be  generated.</span></span></a></p><p><a id="th26.3" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14010</span><span sentence-index="14010" class="highlight4">If  used  properly,  3D  sound  can  give  your  player  the  sensation  that        sounds  are  coming  from  different  distinct  directions. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14011</span><span sentence-index="14011" class="highlight2">  For  example,  a  shot        fired  from  behind  the  player  would  be  accompanied  by  the  player  hearing  a        gunshot  sound  as  though  it  really  were  coming  from  behind. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14012</span><span sentence-index="14012" class="highlight3">  Such        directional  sound  really  adds  to  the  immersive  experience  of  a        game.</span></span></a></p><div class="sect2" title="How We Hear in 3D"><div class="titlepage"><div><div><h3 class="title" id="how_we_hear_in_3d"><a id="th26.3" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">421</span><span sentence-index="14015" class="highlight4">How  We  Hear  in  3D</span></span></a></h3></div></div></div><p><a id="th26.3" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14017</span><span sentence-index="14017" class="highlight2"> 3D  sound&#x2014;or  more  specifically,  our  ability  to  localize  a  sound&#x2014;is            the  result  of  a  complex  interaction  between  the  sound  source  and  our            bodies,  not  to  mention  the  room  or  environment  we  happen  to  be  in. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">424</span><span sentence-index="14018" class="highlight3">           Ignoring  environmental  interactions,  </span></span></a><a class="xref" href="ch26.html#d_sound-id1" title="Figure&#xA0;26-9.&#xA0;3D sound"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">425</span><span sentence-index="14019" class="highlight4">Figure&#xA0;26-9</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14020</span><span sentence-index="14020" class="highlight2">            illustrates  how  a  sound  wave  interacts  with  one&apos;s  body.</span></span></p><div class="figure"><a id="d_sound-id1"></a><div class="figure-contents"><a id="d_sound-id1"></a><div class="mediaobject"><a id="d_sound-id1"></a><a id="I_mediaobject7_id364474"><img src="httpatomoreillycomsourceoreillyimages1599029.png" alt="3D sound"></a></div></div><div class="figure-title"><a id="I_mediaobject7_id364474"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">432</span><span sentence-index="14026" class="highlight3">Figure&#xA0;26-9.&#xA0;3D  sound</span></span></a></div></div><p><a id="I_mediaobject7_id364474"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14028</span><span sentence-index="14028" class="highlight4">One  of  the  first  things  you  may  notice  is  that  our  ears  are            separated  by  some  finite  distance. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14029</span><span sentence-index="14029" class="highlight2">  This  means  that  the  sound  coming  from            the  source  on  the  right  will  reach  the  right  ear  before  it  reaches  the            left  ear. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">436</span><span sentence-index="14030" class="highlight3"> The  time  delay  between  the  sound  reaching  each  ear  is  called            </span></span></a><a id="I_indexterm7_id364497" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">437</span><span sentence-index="14031" class="highlight4">the  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">437</span><span sentence-index="14031" class="highlight2">interaural  delay</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14032</span><span sentence-index="14032" class="highlight3"> . </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14033</span><span sentence-index="14033" class="highlight4">  We  can            approximately  calculate  the  delay  from  a  sound  coming  from  the  side  by            taking  the  distance  separating  the  ears  and  dividing  it  by  the  speed  of            sound. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14034</span><span sentence-index="14034" class="highlight2">  In  air  and  for  a  typical  head  size,  that  delay  is  around  half  a            millisecond. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14035</span><span sentence-index="14035" class="highlight3">  The  delay  will  be  shorter  depending  on  the  orientation  of            your  head  with  respect  to  the  sound  source. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14036</span><span sentence-index="14036" class="highlight4">  Whatever  the  delay  is,  our            brains  use  that  information  to  help  determine  the  location  from  which            the  sound  is  coming.</span></span></a></p><p><a id="I_indexterm7_id364497" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">445</span><span sentence-index="14039" class="highlight2">Additionally,  as  the  sound  coming  from  the  right  in  </span></span></a><a class="xref" href="ch26.html#d_sound-id1" title="Figure&#xA0;26-9.&#xA0;3D sound"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">446</span><span sentence-index="14040" class="highlight3">Figure&#xA0;26-9</span></span></a><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14041</span><span sentence-index="14041" class="highlight4">  reaches  the  head,  some  of  the  energy  is            reflected  off  the  head. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14042</span><span sentence-index="14042" class="highlight2">  Reflections  also  occur  off  the  shoulders  and            torso. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14043</span><span sentence-index="14043" class="highlight3">  Further,  as  the  sound  waves  pass  the  head  they  tend  to  bend            around  it. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14044</span><span sentence-index="14044" class="highlight4">  Higher-frequency  waves  tend  to  get  blocked  by  the  head,  and            lower-frequency  waves  tend  to  pass  by  with  little  interruption. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14045</span><span sentence-index="14045" class="highlight2">  The            resulting  sound  in  the  shadow  region  behind  the  head  is  somewhat            different  than  the  source  due  to  the  effective  filtering  that  has            occurred  via  interaction  with  the  head. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14046</span><span sentence-index="14046" class="highlight3">  Also,  notice  that  the            orientation  of  the  ears  with  respect  to  the  sound  source  is  different,            and  sound  waves  will  interact  with  the  ear  and  ear  canal  differently  due            to  this  differing  orientation.</span></span></p><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14048</span><span sentence-index="14048" class="highlight4">If  the  sound  is  coming  from  above  or  below  the  person  in  addition            to  being  offset  laterally,  the  sound  will  reflect  off  and  diffract            around  different  parts  of  the  body  in  different  ways.</span></span></p><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14050</span><span sentence-index="14050" class="highlight2">Considering  all  these  interactions,  it  would  seem  that  the  sound            we  end  up  hearing  is  quite  different  from  the  pure  source  sound. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14051</span><span sentence-index="14051" class="highlight3">  Well,            the  differences  may  not  be  that  dramatic,  but  they  are  sufficient  to            allow  our  brains  to  pick  up  on  all  these  cues,  allowing  us  to  locate  the            sound  source. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14052</span><span sentence-index="14052" class="highlight4">  Given  that  we  are  all  different  shapes  and  sizes,  our            brains  are  tuned  to  our  specific  bodies  when  processing  these            localization  cues.</span></span></p><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14054</span><span sentence-index="14054" class="highlight2">It  would  seem  that  including  believable  3D  sound  is  virtually            impossible  to  achieve  in  games  given  the  complexity  of  sounds            interacting  with  the  listener. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14055</span><span sentence-index="14055" class="highlight3">  Certainly  you  can&apos;t  model  every  potential            game  player  along  with  your  game  sounds  to  compute  how  they  interact            with  each  other. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">462</span><span sentence-index="14056" class="highlight4"> That  said,  one  approach  to  capturing  the  important            localization  cues  is  to  use  what  are  </span></span><a id="I_indexterm7_id364547" class="indexterm"></a><a id="I_indexterm7_id364553" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">464</span><span sentence-index="14058" class="highlight2">called  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">464</span><span sentence-index="14058" class="highlight3">head-related  transfer            functions</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14058</span><span sentence-index="14058" class="highlight4">  (HRTFs).</span></span></a></p><p><a id="I_indexterm7_id364553" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">467</span><span sentence-index="14061" class="highlight2">If  you  were  to  place  a  small  microphone  in  each  ear  and  then            record  the  sound  reaching  each  ear  from  some  known  source,  you&apos;d  have            what  is  called  a  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">467</span><span sentence-index="14061" class="highlight3">binaural  recording</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14061</span><span sentence-index="14061" class="highlight4"> . </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">468</span><span sentence-index="14062" class="highlight2"> In  </span></span></a><a id="I_indexterm7_id364572" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14063</span><span sentence-index="14063" class="highlight3">other  words,  the  two  recordings&#x2014;one  for  each  ear&#x2014;capture            the  sound  received  by  each,  which,  given  all  the  factors  we  described            earlier,  are  different  from  each  other. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14064</span><span sentence-index="14064" class="highlight4">  These  two  recordings  contain            information  that  our  brains  use  to  help  us  localize  the  source            sound.</span></span></a></p><p><a id="I_indexterm7_id364572" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">473</span><span sentence-index="14067" class="highlight2">Now,  if  you  compare  these  binaural  recordings  by  taking  the  ratio            of  each  to  the  source  sound,  you&apos;d  end  up  with  what&apos;s  called  </span></span></a><a id="I_indexterm7_id364587" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">474</span><span sentence-index="14068" class="highlight3">a  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">474</span><span sentence-index="14068" class="highlight4">transfer  function</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14069</span><span sentence-index="14069" class="highlight2">  for  each  ear. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14070</span><span sentence-index="14070" class="highlight3">            (The  math  is  more  complicated  than  we  imply  here.)  These  are  the  HRTFs. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14071</span><span sentence-index="14071" class="highlight4">            And  you  can  derive  an  HRTF  for  a  sound  located  at  any  position  relative            to  a  listener. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14072</span><span sentence-index="14072" class="highlight2">  So,  the  binaural  recordings  for  a  source  located  at  a            specific  location  yield  a  pair  of  HRTFs. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14073</span><span sentence-index="14073" class="highlight3">  That&apos;s  not  too  bad,  but  that&apos;s            only  for  one  single  source  location. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14074</span><span sentence-index="14074" class="highlight4">  You  need  HRTFs  for  every  location            if  you  are  to  emulate  a  3D  sound  from  any  location. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14075</span><span sentence-index="14075" class="highlight2">  Obviously,            generating  HRTFs  for  every  possible  relative  location  isn&apos;t  practical,            so  HRTFs  are  typically  derived  from  binaural  recordings  taken  at  many            discrete  locations  to  create  a  library,  so  to  speak,  of  transfer            functions.</span></span></a></p><p><a id="I_indexterm7_id364587" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14078</span><span sentence-index="14078" class="highlight3">The  HRTFs  are  then  used  to  derive  filters  for  a  given  sound  you            want  to  play  back  with  3D  emulation. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">485</span><span sentence-index="14079" class="highlight4"> Two  </span></span></a><a id="I_indexterm7_id364608" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14080</span><span sentence-index="14080" class="highlight2">filters  are  required&#x2014;one  for  each  ear. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14081</span><span sentence-index="14081" class="highlight3">  And  the  HRTFs  used            to  derive  those  filters  are  those  that  correspond  closest  to  the            location  of  the  3D  sound  source  you&apos;re  trying  to  emulate.</span></span></a></p><p><a id="I_indexterm7_id364608" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14084</span><span sentence-index="14084" class="highlight4">It  is  a  lot  of  work  to  make  all  these  recordings  and  derive  the            corresponding  HRTFs. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14085</span><span sentence-index="14085" class="highlight2">  Sometimes  the  recordings  are  made  using  a  dummy,            and  sometimes  real  humans  are  used. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14086</span><span sentence-index="14086" class="highlight3">  In  either  case,  it  is  unlikely  that            you  or  your  player  resemble  exactly  the  dummy  or  human  subject  used  to            make  the  recordings  and  HRTFs. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14087</span><span sentence-index="14087" class="highlight4">  This  means  the  synthesized  3D  sound  may            only  approximate  the  cues  for  any  particular  person.</span></span></a></p></div><div class="sect2" title="A Simple Example"><div class="titlepage"><div><div><h3 class="title" id="a_simple_example"><a id="I_indexterm7_id364608" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">496</span><span sentence-index="14090" class="highlight2">A  Simple  Example</span></span></a></h3></div></div></div><p><a id="I_indexterm7_id364608" class="indexterm"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">498</span><span sentence-index="14092" class="highlight3">OpenAL  allows  you  to  </span></span></a><a id="op26.3.2" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14093</span><span sentence-index="14093" class="highlight4">simulate  3D  sound  via  easy-to-use  source  and  listener  objects  with  associated                properties  of  each,  such  as  position,  velocity,  and  orientation,  among  others. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14094</span><span sentence-index="14094" class="highlight2">  You  need  only                associate  the  sound  data  to  a  source  and  set  its  properties,  listener  position,  velocity,                and  orientation. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14095</span><span sentence-index="14095" class="highlight3">  OpenAL  will  handle  the  rest  for  you. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14096</span><span sentence-index="14096" class="highlight4">  How  good  the  results  sound  depends  on                the  OpenAL  implementation  you&apos;re  using  and  the  sound  hardware  in  use. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14097</span><span sentence-index="14097" class="highlight2">  OpenAL  leaves                implementation  of  things  such  as  HRTFs  to  the  hardware.</span></span></a></p><p><a id="op26.3.2" class="indexterm"><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14100</span><span sentence-index="14100" class="highlight3">For  demonstration  purposes,  we  took  the  PlayStatic  example            provided  in  the  Creative  Labs  OpenAL  SDK  and  modified  it  slightly  to            have  the  sound  source  move  around  the  listener. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14101</span><span sentence-index="14101" class="highlight4">  We&apos;ve  also  included  the            Doppler  effect  to  give  the  impression  of  the  source  moving  toward  or            away  from  the  listener. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">508</span><span sentence-index="14102" class="highlight2"> The  relevant  code  is  as  follows:</span></span></a></p><a id="I_programlisting7_id364674"><pre class="programlisting">int main()
{
    ALuint      uiBuffer;
    ALuint      uiSource;
    ALint       iState;

    // Initialize Framework
    ALFWInit();

    if (!ALFWInitOpenAL())
    {
        ALFWprintf(&quot;Failed to initialize OpenAL\n&quot;);
        ALFWShutdown();
        return 0;
    }

    // Generate an AL Buffer
    alGenBuffers( 1, &amp;uiBuffer );

    // Load Wave file into OpenAL Buffer
    if (!ALFWLoadWaveToBuffer((char*)ALFWaddMediaPath(TEST_WAVE_FILE), uiBuffer))
    {
        ALFWprintf(&quot;Failed to load %s\n&quot;, ALFWaddMediaPath(TEST_WAVE_FILE));
    }

    // Specify the location of the Listener
    alListener3f(AL_POSITION, 0, 0, 0);

    // Generate a Source to playback the Buffer
    alGenSources( 1, &amp;uiSource );

    // Attach Source to Buffer
    alSourcei( uiSource, AL_BUFFER, uiBuffer );

    // Set the Doppler effect factor
    alDopplerFactor(10);

    // Initialize variables used to reposition the source
    float x = 75;
    float y = 0;
    float z = &#x2212;10;
    float dx = &#x2212;1;
    float dy = 0.1;
    float dz = 0.25;

    // Set Initial Source properties
    alSourcei(uiSource, AL_LOOPING, AL_TRUE);
    alSource3f(uiSource, AL_POSITION, x, y, z);
    alSource3f(uiSource, AL_VELOCITY, dx, dy, dz);

    // Play Source
    alSourcePlay( uiSource );

    do
    {
        Sleep(100);

        if(fabs(x) &gt; 75) dx = -dx;
        if(fabs(y) &gt; 5) dy = -dy;
        if(fabs(z) &gt; 10) dz = -dz;
        alSource3f(uiSource, AL_VELOCITY, dx, dy, dz);

        x += dx;
        y += dy;
        z += dz;
        alSource3f(uiSource, AL_POSITION, x, y, z);

        // Get Source State
        alGetSourcei( uiSource, AL_SOURCE_STATE, &amp;iState);
    } while (iState == AL_PLAYING);

    // Clean up by deleting Source(s) and Buffer(s)
    alSourceStop(uiSource);
    alDeleteSources(1, &amp;uiSource);
    alDeleteBuffers(1, &amp;uiBuffer);

    ALFWShutdownOpenAL();

    ALFWShutdown();

    return 0;
}</pre><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14104</span><span sentence-index="14104" class="highlight3">There&apos;s  nothing  fancy  about  this  demonstration,  and  in  fact  there            are  no  graphics. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14105</span><span sentence-index="14105" class="highlight4">  The  program  runs  in  a  console  window. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14106</span><span sentence-index="14106" class="highlight2">  That&apos;s  OK,            however,  since  you  really  need  your  ears  and  not  your  eyes  to  appreciate            this  demonstration. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14107</span><span sentence-index="14107" class="highlight3">  Be  sure  to  use  headphones  if  you  test  it  yourself. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14108</span><span sentence-index="14108" class="highlight4">            The  3D  effect  is  much  better  with  headphones.</span></span></p><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">516</span><span sentence-index="14110" class="highlight2">The  lines  of  code  within  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">516</span><span sentence-index="14110" class="highlight3">main()</span></span></code><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">516</span><span sentence-index="14110" class="highlight4">           all  the  way  up  to  the  comment  </span></span><code class="literal"><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">516</span><span sentence-index="14110" class="highlight2">Specify  the            location  of  the  Listener</span></span></code><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14110</span><span sentence-index="14110" class="highlight3">  are  just  OpenAL  initialization  calls            required  to  set  up  the  framework  and  associate  a  sound  file  with  a  sound            buffer  that  will  hold  the  sound  data  for  later  playback.</span></span></p><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14112</span><span sentence-index="14112" class="highlight4">The  next  line  of  code  after  the  aforementioned  comment  sets  the            location  of  the  listener. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14113</span><span sentence-index="14113" class="highlight2">  We  specify  the  listener&apos;s  location  at  the            origin. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14114</span><span sentence-index="14114" class="highlight3">  In  a  game,  you  would  set  the  listener  location  to  the  player&apos;s            location  as  the  player  moves  about  your  game  world. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14115</span><span sentence-index="14115" class="highlight4">  In  this  example,  the            listener  stays  put.</span></span></p><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14117</span><span sentence-index="14117" class="highlight2">A  source  is  then  created  and  associated  with  the  previously            created  sound  buffer. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14118</span><span sentence-index="14118" class="highlight3">  Since  we  want  to  include  the  Doppler  effect,  we            set  the  Doppler  factor  to  10. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14119</span><span sentence-index="14119" class="highlight4">  The  default  is  1,  but  we  amped  it  up  to            enhance  the  effect.</span></span></p><p><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">527</span><span sentence-index="14121" class="highlight2">Next  we  create  six  new  local  variables  to  store  the  source&apos;s            </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">527</span><span sentence-index="14121" class="highlight3">x</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">527</span><span sentence-index="14121" class="highlight4">,  </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">527</span><span sentence-index="14121" class="highlight2">y</span></span></em></span><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">527</span><span sentence-index="14121" class="highlight3">,  and            </span></span><span class="emphasis"><em><span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">527</span><span sentence-index="14121" class="highlight4">z</span></span></em></span><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14121</span><span sentence-index="14121" class="highlight2">  coordinates  and  the  increments  in  position  by            which  we&apos;ll  move  the  source  around. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14122</span><span sentence-index="14122" class="highlight3">  After  initializing  those  variables,            we  set  a  few  properties  of  the  source&#x2014;namely,  we  specify  that  we  want            the  source  sound  to  loop  and  then  we  set  its  initial  position  and            velocity. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14123</span><span sentence-index="14123" class="highlight4">  The  velocity  properties  are  important  for  the  Doppler  effect. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14124</span><span sentence-index="14124" class="highlight2">            If  you  forget  to  set  the  velocity  properties,  you&apos;ll  get  no  Doppler            effect  even  if  you  move  the  source  around  by  changing  its  position            coordinates.</span></span></p><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14126</span><span sentence-index="14126" class="highlight3">Next,  the  source  is  set  to  play,  and  a  loop  is  entered  to            continuously  update  the  source&apos;s  position  every  100  milliseconds. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14127</span><span sentence-index="14127" class="highlight4">  The            code  within  the  loop  simply  adds  the  coordinate  increments  to  the            current  coordinates  for  the  source  and  checks  to  be  sure  the  source            remains  within  certain  bounds. </span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14128</span><span sentence-index="14128" class="highlight2">  If  the  source  gets  too  far  away,            attenuation  will  be  such  that  you  won&apos;t  hear  it  any  longer,  which  just            gets  boring.</span></span></p><p><span class="nonQuoteStr"><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14130</span><span sentence-index="14130" class="highlight3">The  remainder  of  the  code  takes  care  of  housecleaning  upon            exit.</span></span></p></a><p><a id="I_programlisting7_id364674"><span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14133</span><span sentence-index="14133" class="highlight4">That&apos;s  really  all  there  is  to  creating  3D  sound  effects  using            OpenAL. </span><span style="background-color: lightgray; padding: 4px;" class="spanSentenceIndexNumber">540</span><span sentence-index="14134" class="highlight2"> Of  course,  managing  multiple  sounds  with  environmental  effects            in  a  real  game  is  certainly  more  involved,  but  the  fundamentals  are  the            </span></span></a><a id="I_indexterm7_id364766" class="indexterm"></a><a id="I_indexterm7_id364776" class="indexterm"></a><a id="I_indexterm7_id364785" class="indexterm"><span><span style="margin-right: 5px; margin-left: 5px;" class="spanSentenceIndexNumber">14137</span><span sentence-index="14137" class="highlight3">same.</span></span></a></p></div></div></section><a id="I_indexterm7_id364785" class="indexterm">
</a></body></html>